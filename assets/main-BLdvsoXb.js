(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=a(e);fetch(e.href,n)}})();var Qe=Object.defineProperty,Ve=(o,t,a)=>t in o?Qe(o,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[t]=a,ce=(o,t,a)=>Ve(o,typeof t!="symbol"?t+"":t,a);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const e of r)if(e.type==="childList")for(const n of e.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function t(r){const e={};return r.integrity&&(e.integrity=r.integrity),r.referrerPolicy&&(e.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?e.credentials="include":r.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(r){if(r.ep)return;r.ep=!0;const e=t(r);fetch(r.href,e)}})();var Q={},Ye=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},ge={},U={};let Ft;const _e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];U.getSymbolSize=function(o){if(!o)throw new Error('"version" cannot be null or undefined');if(o<1||o>40)throw new Error('"version" should be in range from 1 to 40');return o*4+17};U.getSymbolTotalCodewords=function(o){return _e[o]};U.getBCHDigit=function(o){let t=0;for(;o!==0;)t++,o>>>=1;return t};U.setToSJISFunction=function(o){if(typeof o!="function")throw new Error('"toSJISFunc" is not a valid function.');Ft=o};U.isKanjiModeEnabled=function(){return typeof Ft<"u"};U.toSJIS=function(o){return Ft(o)};var mt={};(function(o){o.L={bit:1},o.M={bit:0},o.Q={bit:3},o.H={bit:2};function t(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"l":case"low":return o.L;case"m":case"medium":return o.M;case"q":case"quartile":return o.Q;case"h":case"high":return o.H;default:throw new Error("Unknown EC Level: "+a)}}o.isValid=function(a){return a&&typeof a.bit<"u"&&a.bit>=0&&a.bit<4},o.from=function(a,r){if(o.isValid(a))return a;try{return t(a)}catch{return r}}})(mt);function he(){this.buffer=[],this.length=0}he.prototype={get:function(o){const t=Math.floor(o/8);return(this.buffer[t]>>>7-o%8&1)===1},put:function(o,t){for(let a=0;a<t;a++)this.putBit((o>>>t-a-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),o&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Ge=he;function nt(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}nt.prototype.set=function(o,t,a,r){const e=o*this.size+t;this.data[e]=a,r&&(this.reservedBit[e]=!0)};nt.prototype.get=function(o,t){return this.data[o*this.size+t]};nt.prototype.xor=function(o,t,a){this.data[o*this.size+t]^=a};nt.prototype.isReserved=function(o,t){return this.reservedBit[o*this.size+t]};var We=nt,me={};(function(o){const t=U.getSymbolSize;o.getRowColCoords=function(a){if(a===1)return[];const r=Math.floor(a/7)+2,e=t(a),n=e===145?26:Math.ceil((e-13)/(2*r-2))*2,i=[e-7];for(let s=1;s<r-1;s++)i[s]=i[s-1]-n;return i.push(6),i.reverse()},o.getPositions=function(a){const r=[],e=o.getRowColCoords(a),n=e.length;for(let i=0;i<n;i++)for(let s=0;s<n;s++)i===0&&s===0||i===0&&s===n-1||i===n-1&&s===0||r.push([e[i],e[s]]);return r}})(me);var pe={};const Ze=U.getSymbolSize,de=7;pe.getPositions=function(o){const t=Ze(o);return[[0,0],[t-de,0],[0,t-de]]};var ye={};(function(o){o.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};o.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},o.from=function(r){return o.isValid(r)?parseInt(r,10):void 0},o.getPenaltyN1=function(r){const e=r.size;let n=0,i=0,s=0,l=null,c=null;for(let d=0;d<e;d++){i=s=0,l=c=null;for(let p=0;p<e;p++){let u=r.get(d,p);u===l?i++:(i>=5&&(n+=t.N1+(i-5)),l=u,i=1),u=r.get(p,d),u===c?s++:(s>=5&&(n+=t.N1+(s-5)),c=u,s=1)}i>=5&&(n+=t.N1+(i-5)),s>=5&&(n+=t.N1+(s-5))}return n},o.getPenaltyN2=function(r){const e=r.size;let n=0;for(let i=0;i<e-1;i++)for(let s=0;s<e-1;s++){const l=r.get(i,s)+r.get(i,s+1)+r.get(i+1,s)+r.get(i+1,s+1);(l===4||l===0)&&n++}return n*t.N2},o.getPenaltyN3=function(r){const e=r.size;let n=0,i=0,s=0;for(let l=0;l<e;l++){i=s=0;for(let c=0;c<e;c++)i=i<<1&2047|r.get(l,c),c>=10&&(i===1488||i===93)&&n++,s=s<<1&2047|r.get(c,l),c>=10&&(s===1488||s===93)&&n++}return n*t.N3},o.getPenaltyN4=function(r){let e=0;const n=r.data.length;for(let i=0;i<n;i++)e+=r.data[i];return Math.abs(Math.ceil(e*100/n/5)-10)*t.N4};function a(r,e,n){switch(r){case o.Patterns.PATTERN000:return(e+n)%2===0;case o.Patterns.PATTERN001:return e%2===0;case o.Patterns.PATTERN010:return n%3===0;case o.Patterns.PATTERN011:return(e+n)%3===0;case o.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2===0;case o.Patterns.PATTERN101:return e*n%2+e*n%3===0;case o.Patterns.PATTERN110:return(e*n%2+e*n%3)%2===0;case o.Patterns.PATTERN111:return(e*n%3+(e+n)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}o.applyMask=function(r,e){const n=e.size;for(let i=0;i<n;i++)for(let s=0;s<n;s++)e.isReserved(s,i)||e.xor(s,i,a(r,s,i))},o.getBestMask=function(r,e){const n=Object.keys(o.Patterns).length;let i=0,s=1/0;for(let l=0;l<n;l++){e(l),o.applyMask(l,r);const c=o.getPenaltyN1(r)+o.getPenaltyN2(r)+o.getPenaltyN3(r)+o.getPenaltyN4(r);o.applyMask(l,r),c<s&&(s=c,i=l)}return i}})(ye);var pt={};const q=mt,ut=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ft=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];pt.getBlocksCount=function(o,t){switch(t){case q.L:return ut[(o-1)*4+0];case q.M:return ut[(o-1)*4+1];case q.Q:return ut[(o-1)*4+2];case q.H:return ut[(o-1)*4+3];default:return}};pt.getTotalCodewordsCount=function(o,t){switch(t){case q.L:return ft[(o-1)*4+0];case q.M:return ft[(o-1)*4+1];case q.Q:return ft[(o-1)*4+2];case q.H:return ft[(o-1)*4+3];default:return}};var ve={},yt={};const X=new Uint8Array(512),gt=new Uint8Array(256);(function(){let o=1;for(let t=0;t<255;t++)X[t]=o,gt[o]=t,o<<=1,o&256&&(o^=285);for(let t=255;t<512;t++)X[t]=X[t-255]})();yt.log=function(o){if(o<1)throw new Error("log("+o+")");return gt[o]};yt.exp=function(o){return X[o]};yt.mul=function(o,t){return o===0||t===0?0:X[gt[o]+gt[t]]};(function(o){const t=yt;o.mul=function(a,r){const e=new Uint8Array(a.length+r.length-1);for(let n=0;n<a.length;n++)for(let i=0;i<r.length;i++)e[n+i]^=t.mul(a[n],r[i]);return e},o.mod=function(a,r){let e=new Uint8Array(a);for(;e.length-r.length>=0;){const n=e[0];for(let s=0;s<r.length;s++)e[s]^=t.mul(r[s],n);let i=0;for(;i<e.length&&e[i]===0;)i++;e=e.slice(i)}return e},o.generateECPolynomial=function(a){let r=new Uint8Array([1]);for(let e=0;e<a;e++)r=o.mul(r,new Uint8Array([1,t.exp(e)]));return r}})(ve);const Ee=ve;function $t(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}$t.prototype.initialize=function(o){this.degree=o,this.genPoly=Ee.generateECPolynomial(this.degree)};$t.prototype.encode=function(o){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(o.length+this.degree);t.set(o);const a=Ee.mod(t,this.genPoly),r=this.degree-a.length;if(r>0){const e=new Uint8Array(this.degree);return e.set(a,r),e}return a};var Xe=$t,we={},J={},Ot={};Ot.isValid=function(o){return!isNaN(o)&&o>=1&&o<=40};var F={};const be="[0-9]+",tn="[A-Z $%*+\\-./:]+";let tt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";tt=tt.replace(/u/g,"\\u");const en="(?:(?![A-Z0-9 $%*+\\-./:]|"+tt+`)(?:.|[\r
]))+`;F.KANJI=new RegExp(tt,"g");F.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");F.BYTE=new RegExp(en,"g");F.NUMERIC=new RegExp(be,"g");F.ALPHANUMERIC=new RegExp(tn,"g");const nn=new RegExp("^"+tt+"$"),rn=new RegExp("^"+be+"$"),on=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");F.testKanji=function(o){return nn.test(o)};F.testNumeric=function(o){return rn.test(o)};F.testAlphanumeric=function(o){return on.test(o)};(function(o){const t=Ot,a=F;o.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},o.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},o.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},o.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},o.MIXED={bit:-1},o.getCharCountIndicator=function(e,n){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!t.isValid(n))throw new Error("Invalid version: "+n);return n>=1&&n<10?e.ccBits[0]:n<27?e.ccBits[1]:e.ccBits[2]},o.getBestModeForData=function(e){return a.testNumeric(e)?o.NUMERIC:a.testAlphanumeric(e)?o.ALPHANUMERIC:a.testKanji(e)?o.KANJI:o.BYTE},o.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},o.isValid=function(e){return e&&e.bit&&e.ccBits};function r(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return o.NUMERIC;case"alphanumeric":return o.ALPHANUMERIC;case"kanji":return o.KANJI;case"byte":return o.BYTE;default:throw new Error("Unknown mode: "+e)}}o.from=function(e,n){if(o.isValid(e))return e;try{return r(e)}catch{return n}}})(J);(function(o){const t=U,a=pt,r=mt,e=J,n=Ot,i=7973,s=t.getBCHDigit(i);function l(u,b,w){for(let L=1;L<=40;L++)if(b<=o.getCapacity(L,w,u))return L}function c(u,b){return e.getCharCountIndicator(u,b)+4}function d(u,b){let w=0;return u.forEach(function(L){const B=c(L.mode,b);w+=B+L.getBitsLength()}),w}function p(u,b){for(let w=1;w<=40;w++)if(d(u,w)<=o.getCapacity(w,b,e.MIXED))return w}o.from=function(u,b){return n.isValid(u)?parseInt(u,10):b},o.getCapacity=function(u,b,w){if(!n.isValid(u))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=e.BYTE);const L=t.getSymbolTotalCodewords(u),B=a.getTotalCodewordsCount(u,b),g=(L-B)*8;if(w===e.MIXED)return g;const E=g-c(w,u);switch(w){case e.NUMERIC:return Math.floor(E/10*3);case e.ALPHANUMERIC:return Math.floor(E/11*2);case e.KANJI:return Math.floor(E/13);case e.BYTE:default:return Math.floor(E/8)}},o.getBestVersionForData=function(u,b){let w;const L=r.from(b,r.M);if(Array.isArray(u)){if(u.length>1)return p(u,L);if(u.length===0)return 1;w=u[0]}else w=u;return l(w.mode,w.getLength(),L)},o.getEncodedBits=function(u){if(!n.isValid(u)||u<7)throw new Error("Invalid QR Code version");let b=u<<12;for(;t.getBCHDigit(b)-s>=0;)b^=i<<t.getBCHDigit(b)-s;return u<<12|b}})(we);var Ie={};const Ut=U,Ce=1335,an=21522,ue=Ut.getBCHDigit(Ce);Ie.getEncodedBits=function(o,t){const a=o.bit<<3|t;let r=a<<10;for(;Ut.getBCHDigit(r)-ue>=0;)r^=Ce<<Ut.getBCHDigit(r)-ue;return(a<<10|r)^an};var Le={};const sn=J;function V(o){this.mode=sn.NUMERIC,this.data=o.toString()}V.getBitsLength=function(o){return 10*Math.floor(o/3)+(o%3?o%3*3+1:0)};V.prototype.getLength=function(){return this.data.length};V.prototype.getBitsLength=function(){return V.getBitsLength(this.data.length)};V.prototype.write=function(o){let t,a,r;for(t=0;t+3<=this.data.length;t+=3)a=this.data.substr(t,3),r=parseInt(a,10),o.put(r,10);const e=this.data.length-t;e>0&&(a=this.data.substr(t),r=parseInt(a,10),o.put(r,e*3+1))};var ln=V;const cn=J,kt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Y(o){this.mode=cn.ALPHANUMERIC,this.data=o}Y.getBitsLength=function(o){return 11*Math.floor(o/2)+6*(o%2)};Y.prototype.getLength=function(){return this.data.length};Y.prototype.getBitsLength=function(){return Y.getBitsLength(this.data.length)};Y.prototype.write=function(o){let t;for(t=0;t+2<=this.data.length;t+=2){let a=kt.indexOf(this.data[t])*45;a+=kt.indexOf(this.data[t+1]),o.put(a,11)}this.data.length%2&&o.put(kt.indexOf(this.data[t]),6)};var dn=Y;const un=J;function _(o){this.mode=un.BYTE,typeof o=="string"?this.data=new TextEncoder().encode(o):this.data=new Uint8Array(o)}_.getBitsLength=function(o){return o*8};_.prototype.getLength=function(){return this.data.length};_.prototype.getBitsLength=function(){return _.getBitsLength(this.data.length)};_.prototype.write=function(o){for(let t=0,a=this.data.length;t<a;t++)o.put(this.data[t],8)};var fn=_;const gn=J,hn=U;function G(o){this.mode=gn.KANJI,this.data=o}G.getBitsLength=function(o){return o*13};G.prototype.getLength=function(){return this.data.length};G.prototype.getBitsLength=function(){return G.getBitsLength(this.data.length)};G.prototype.write=function(o){let t;for(t=0;t<this.data.length;t++){let a=hn.toSJIS(this.data[t]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),o.put(a,13)}};var mn=G,Me={exports:{}};(function(o){var t={single_source_shortest_paths:function(a,r,e){var n={},i={};i[r]=0;var s=t.PriorityQueue.make();s.push(r,0);for(var l,c,d,p,u,b,w,L,B;!s.empty();){l=s.pop(),c=l.value,p=l.cost,u=a[c]||{};for(d in u)u.hasOwnProperty(d)&&(b=u[d],w=p+b,L=i[d],B=typeof i[d]>"u",(B||L>w)&&(i[d]=w,s.push(d,w),n[d]=c))}if(typeof e<"u"&&typeof i[e]>"u"){var g=["Could not find a path from ",r," to ",e,"."].join("");throw new Error(g)}return n},extract_shortest_path_from_predecessor_list:function(a,r){for(var e=[],n=r;n;)e.push(n),a[n],n=a[n];return e.reverse(),e},find_path:function(a,r,e){var n=t.single_source_shortest_paths(a,r,e);return t.extract_shortest_path_from_predecessor_list(n,e)},PriorityQueue:{make:function(a){var r=t.PriorityQueue,e={},n;a=a||{};for(n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);return e.queue=[],e.sorter=a.sorter||r.default_sorter,e},default_sorter:function(a,r){return a.cost-r.cost},push:function(a,r){var e={value:a,cost:r};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};o.exports=t})(Me);var pn=Me.exports;(function(o){const t=J,a=ln,r=dn,e=fn,n=mn,i=F,s=U,l=pn;function c(g){return unescape(encodeURIComponent(g)).length}function d(g,E,m){const h=[];let I;for(;(I=g.exec(m))!==null;)h.push({data:I[0],index:I.index,mode:E,length:I[0].length});return h}function p(g){const E=d(i.NUMERIC,t.NUMERIC,g),m=d(i.ALPHANUMERIC,t.ALPHANUMERIC,g);let h,I;return s.isKanjiModeEnabled()?(h=d(i.BYTE,t.BYTE,g),I=d(i.KANJI,t.KANJI,g)):(h=d(i.BYTE_KANJI,t.BYTE,g),I=[]),E.concat(m,h,I).sort(function(C,S){return C.index-S.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function u(g,E){switch(E){case t.NUMERIC:return a.getBitsLength(g);case t.ALPHANUMERIC:return r.getBitsLength(g);case t.KANJI:return n.getBitsLength(g);case t.BYTE:return e.getBitsLength(g)}}function b(g){return g.reduce(function(E,m){const h=E.length-1>=0?E[E.length-1]:null;return h&&h.mode===m.mode?(E[E.length-1].data+=m.data,E):(E.push(m),E)},[])}function w(g){const E=[];for(let m=0;m<g.length;m++){const h=g[m];switch(h.mode){case t.NUMERIC:E.push([h,{data:h.data,mode:t.ALPHANUMERIC,length:h.length},{data:h.data,mode:t.BYTE,length:h.length}]);break;case t.ALPHANUMERIC:E.push([h,{data:h.data,mode:t.BYTE,length:h.length}]);break;case t.KANJI:E.push([h,{data:h.data,mode:t.BYTE,length:c(h.data)}]);break;case t.BYTE:E.push([{data:h.data,mode:t.BYTE,length:c(h.data)}])}}return E}function L(g,E){const m={},h={start:{}};let I=["start"];for(let C=0;C<g.length;C++){const S=g[C],T=[];for(let A=0;A<S.length;A++){const k=S[A],P=""+C+A;T.push(P),m[P]={node:k,lastCount:0},h[P]={};for(let O=0;O<I.length;O++){const N=I[O];m[N]&&m[N].node.mode===k.mode?(h[N][P]=u(m[N].lastCount+k.length,k.mode)-u(m[N].lastCount,k.mode),m[N].lastCount+=k.length):(m[N]&&(m[N].lastCount=k.length),h[N][P]=u(k.length,k.mode)+4+t.getCharCountIndicator(k.mode,E))}}I=T}for(let C=0;C<I.length;C++)h[I[C]].end=0;return{map:h,table:m}}function B(g,E){let m;const h=t.getBestModeForData(g);if(m=t.from(E,h),m!==t.BYTE&&m.bit<h.bit)throw new Error('"'+g+'" cannot be encoded with mode '+t.toString(m)+`.
 Suggested mode is: `+t.toString(h));switch(m===t.KANJI&&!s.isKanjiModeEnabled()&&(m=t.BYTE),m){case t.NUMERIC:return new a(g);case t.ALPHANUMERIC:return new r(g);case t.KANJI:return new n(g);case t.BYTE:return new e(g)}}o.fromArray=function(g){return g.reduce(function(E,m){return typeof m=="string"?E.push(B(m,null)):m.data&&E.push(B(m.data,m.mode)),E},[])},o.fromString=function(g,E){const m=p(g,s.isKanjiModeEnabled()),h=w(m),I=L(h,E),C=l.find_path(I.map,"start","end"),S=[];for(let T=1;T<C.length-1;T++)S.push(I.table[C[T]].node);return o.fromArray(b(S))},o.rawSplit=function(g){return o.fromArray(p(g,s.isKanjiModeEnabled()))}})(Le);const vt=U,At=mt,yn=Ge,vn=We,En=me,wn=pe,Dt=ye,zt=pt,bn=Xe,ht=we,In=Ie,Cn=J,Rt=Le;function Ln(o,t){const a=o.size,r=wn.getPositions(t);for(let e=0;e<r.length;e++){const n=r[e][0],i=r[e][1];for(let s=-1;s<=7;s++)if(!(n+s<=-1||a<=n+s))for(let l=-1;l<=7;l++)i+l<=-1||a<=i+l||(s>=0&&s<=6&&(l===0||l===6)||l>=0&&l<=6&&(s===0||s===6)||s>=2&&s<=4&&l>=2&&l<=4?o.set(n+s,i+l,!0,!0):o.set(n+s,i+l,!1,!0))}}function Mn(o){const t=o.size;for(let a=8;a<t-8;a++){const r=a%2===0;o.set(a,6,r,!0),o.set(6,a,r,!0)}}function Bn(o,t){const a=En.getPositions(t);for(let r=0;r<a.length;r++){const e=a[r][0],n=a[r][1];for(let i=-2;i<=2;i++)for(let s=-2;s<=2;s++)i===-2||i===2||s===-2||s===2||i===0&&s===0?o.set(e+i,n+s,!0,!0):o.set(e+i,n+s,!1,!0)}}function Sn(o,t){const a=o.size,r=ht.getEncodedBits(t);let e,n,i;for(let s=0;s<18;s++)e=Math.floor(s/3),n=s%3+a-8-3,i=(r>>s&1)===1,o.set(e,n,i,!0),o.set(n,e,i,!0)}function Pt(o,t,a){const r=o.size,e=In.getEncodedBits(t,a);let n,i;for(n=0;n<15;n++)i=(e>>n&1)===1,n<6?o.set(n,8,i,!0):n<8?o.set(n+1,8,i,!0):o.set(r-15+n,8,i,!0),n<8?o.set(8,r-n-1,i,!0):n<9?o.set(8,15-n-1+1,i,!0):o.set(8,15-n-1,i,!0);o.set(r-8,8,1,!0)}function xn(o,t){const a=o.size;let r=-1,e=a-1,n=7,i=0;for(let s=a-1;s>0;s-=2)for(s===6&&s--;;){for(let l=0;l<2;l++)if(!o.isReserved(e,s-l)){let c=!1;i<t.length&&(c=(t[i]>>>n&1)===1),o.set(e,s-l,c),n--,n===-1&&(i++,n=7)}if(e+=r,e<0||a<=e){e-=r,r=-r;break}}}function Tn(o,t,a){const r=new yn;a.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),Cn.getCharCountIndicator(l.mode,o)),l.write(r)});const e=vt.getSymbolTotalCodewords(o),n=zt.getTotalCodewordsCount(o,t),i=(e-n)*8;for(r.getLengthInBits()+4<=i&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const s=(i-r.getLengthInBits())/8;for(let l=0;l<s;l++)r.put(l%2?17:236,8);return kn(r,o,t)}function kn(o,t,a){const r=vt.getSymbolTotalCodewords(t),e=zt.getTotalCodewordsCount(t,a),n=r-e,i=zt.getBlocksCount(t,a),s=r%i,l=i-s,c=Math.floor(r/i),d=Math.floor(n/i),p=d+1,u=c-d,b=new bn(u);let w=0;const L=new Array(i),B=new Array(i);let g=0;const E=new Uint8Array(o.buffer);for(let S=0;S<i;S++){const T=S<l?d:p;L[S]=E.slice(w,w+T),B[S]=b.encode(L[S]),w+=T,g=Math.max(g,T)}const m=new Uint8Array(r);let h=0,I,C;for(I=0;I<g;I++)for(C=0;C<i;C++)I<L[C].length&&(m[h++]=L[C][I]);for(I=0;I<u;I++)for(C=0;C<i;C++)m[h++]=B[C][I];return m}function An(o,t,a,r){let e;if(Array.isArray(o))e=Rt.fromArray(o);else if(typeof o=="string"){let c=t;if(!c){const d=Rt.rawSplit(o);c=ht.getBestVersionForData(d,a)}e=Rt.fromString(o,c||40)}else throw new Error("Invalid data");const n=ht.getBestVersionForData(e,a);if(!n)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=n;else if(t<n)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+n+`.
`);const i=Tn(t,a,e),s=vt.getSymbolSize(t),l=new vn(s);return Ln(l,t),Mn(l),Bn(l,t),Pt(l,a,0),t>=7&&Sn(l,t),xn(l,i),isNaN(r)&&(r=Dt.getBestMask(l,Pt.bind(null,l,a))),Dt.applyMask(r,l),Pt(l,a,r),{modules:l,version:t,errorCorrectionLevel:a,maskPattern:r,segments:e}}ge.create=function(o,t){if(typeof o>"u"||o==="")throw new Error("No input text");let a=At.M,r,e;return typeof t<"u"&&(a=At.from(t.errorCorrectionLevel,At.M),r=ht.from(t.version),e=Dt.from(t.maskPattern),t.toSJISFunc&&vt.setToSJISFunction(t.toSJISFunc)),An(o,r,a,e)};var Be={},qt={};(function(o){function t(a){if(typeof a=="number"&&(a=a.toString()),typeof a!="string")throw new Error("Color should be defined as hex string");let r=a.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+a);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(n){return[n,n]}))),r.length===6&&r.push("F","F");const e=parseInt(r.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+r.slice(0,6).join("")}}o.getOptions=function(a){a||(a={}),a.color||(a.color={});const r=typeof a.margin>"u"||a.margin===null||a.margin<0?4:a.margin,e=a.width&&a.width>=21?a.width:void 0,n=a.scale||4;return{width:e,scale:e?4:n,margin:r,color:{dark:t(a.color.dark||"#000000ff"),light:t(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},o.getScale=function(a,r){return r.width&&r.width>=a+r.margin*2?r.width/(a+r.margin*2):r.scale},o.getImageWidth=function(a,r){const e=o.getScale(a,r);return Math.floor((a+r.margin*2)*e)},o.qrToImageData=function(a,r,e){const n=r.modules.size,i=r.modules.data,s=o.getScale(n,e),l=Math.floor((n+e.margin*2)*s),c=e.margin*s,d=[e.color.light,e.color.dark];for(let p=0;p<l;p++)for(let u=0;u<l;u++){let b=(p*l+u)*4,w=e.color.light;if(p>=c&&u>=c&&p<l-c&&u<l-c){const L=Math.floor((p-c)/s),B=Math.floor((u-c)/s);w=d[i[L*n+B]?1:0]}a[b++]=w.r,a[b++]=w.g,a[b++]=w.b,a[b]=w.a}}})(qt);(function(o){const t=qt;function a(e,n,i){e.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=i,n.width=i,n.style.height=i+"px",n.style.width=i+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}o.render=function(e,n,i){let s=i,l=n;typeof s>"u"&&(!n||!n.getContext)&&(s=n,n=void 0),n||(l=r()),s=t.getOptions(s);const c=t.getImageWidth(e.modules.size,s),d=l.getContext("2d"),p=d.createImageData(c,c);return t.qrToImageData(p.data,e,s),a(d,l,c),d.putImageData(p,0,0),l},o.renderToDataURL=function(e,n,i){let s=i;typeof s>"u"&&(!n||!n.getContext)&&(s=n,n=void 0),s||(s={});const l=o.render(e,n,s),c=s.type||"image/png",d=s.rendererOpts||{};return l.toDataURL(c,d.quality)}})(Be);var Se={};const Rn=qt;function fe(o,t){const a=o.a/255,r=t+'="'+o.hex+'"';return a<1?r+" "+t+'-opacity="'+a.toFixed(2).slice(1)+'"':r}function Nt(o,t,a){let r=o+t;return typeof a<"u"&&(r+=" "+a),r}function Pn(o,t,a){let r="",e=0,n=!1,i=0;for(let s=0;s<o.length;s++){const l=Math.floor(s%t),c=Math.floor(s/t);!l&&!n&&(n=!0),o[s]?(i++,s>0&&l>0&&o[s-1]||(r+=n?Nt("M",l+a,.5+c+a):Nt("m",e,0),e=0,n=!1),l+1<t&&o[s+1]||(r+=Nt("h",i),i=0)):e++}return r}Se.render=function(o,t,a){const r=Rn.getOptions(t),e=o.modules.size,n=o.modules.data,i=e+r.margin*2,s=r.color.light.a?"<path "+fe(r.color.light,"fill")+' d="M0 0h'+i+"v"+i+'H0z"/>':"",l="<path "+fe(r.color.dark,"stroke")+' d="'+Pn(n,e,r.margin)+'"/>',c='viewBox="0 0 '+i+" "+i+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+c+' shape-rendering="crispEdges">'+s+l+`</svg>
`;return typeof a=="function"&&a(null,d),d};const Nn=Ye,Ht=ge,xe=Be,Un=Se;function Jt(o,t,a,r,e){const n=[].slice.call(arguments,1),i=n.length,s=typeof n[i-1]=="function";if(!s&&!Nn())throw new Error("Callback required as last argument");if(s){if(i<2)throw new Error("Too few arguments provided");i===2?(e=a,a=t,t=r=void 0):i===3&&(t.getContext&&typeof e>"u"?(e=r,r=void 0):(e=r,r=a,a=t,t=void 0))}else{if(i<1)throw new Error("Too few arguments provided");return i===1?(a=t,t=r=void 0):i===2&&!t.getContext&&(r=a,a=t,t=void 0),new Promise(function(l,c){try{const d=Ht.create(a,r);l(o(d,t,r))}catch(d){c(d)}})}try{const l=Ht.create(a,r);e(null,o(l,t,r))}catch(l){e(l)}}Q.create=Ht.create;Q.toCanvas=Jt.bind(null,xe.render);Q.toDataURL=Jt.bind(null,xe.renderToDataURL);Q.toString=Jt.bind(null,function(o,t,a){return Un.render(o,a)});var et=(o=>(o.LOW="L",o.MEDIUM="M",o.QUARTILE="Q",o.HIGH="H",o))(et||{});class ${static optimizeColorsForQRCode(t){var a,r;if(t.smartGradient===!1)return t;const e={...t};if((a=e.color)!=null&&a.dark){const n=this.getLuminance(e.color.dark),i=this.getLuminance("#ffffff");this.getContrastRatio(n,i)<4.5&&(e.color.dark=this.adjustColorForContrast(e.color.dark,i,4.5,!0))}if((r=e.color)!=null&&r.light){const n=this.getLuminance(e.color.light),i=this.getLuminance("#ffffff");this.getContrastRatio(n,i)>1.2&&(e.color.light=this.adjustColorForContrast(e.color.light,i,1.1,!1))}return e}static async generateQRCode(t,a={}){if(!t||t.trim()==="")throw new Error("Text cannot be empty");this.moduleDarkCache.clear();const r=this.optimizeColorsForQRCode({...this.defaultOptions,...a}),e=r.size||200,n=document.createElement("canvas");n.width=e,n.height=e;try{return await this.renderToCanvas(t,n,r),{dataURL:n.toDataURL("image/png"),options:r}}catch(i){throw new Error(`Failed to generate QR code: ${i instanceof Error?i.message:"Unknown error"}`)}}static async exportAsPNG(t,a={},r={}){const e=await this.generateQRCode(t,{...a});return this.downloadFile(e.dataURL,r.fileName||"qrcode.png")}static async exportAsSVG(t,a={},r={}){if(!t||t.trim()==="")throw new Error("Text cannot be empty");const e={...this.defaultOptions,...a},n={type:"svg",width:e.size||200,errorCorrectionLevel:e.errorCorrectionLevel||et.MEDIUM,color:e.color||{dark:"#000000",light:"#ffffff"},margin:e.margin||4,scale:e.scale||4};try{const i=await Q.toString(t,n);return r.fileName&&this.downloadFile(`data:image/svg+xml;charset=utf-8,${encodeURIComponent(i)}`,r.fileName||"qrcode.svg"),i}catch(i){throw new Error(`Failed to generate SVG QR code: ${i instanceof Error?i.message:"Unknown error"}`)}}static async getQRCodeDataURL(t,a={}){return(await this.generateQRCode(t,a)).dataURL}static downloadFile(t,a){const r=document.createElement("a");return r.href=t,r.download=a,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),t}static async renderToCanvas(t,a,r={}){if(!t||t.trim()==="")throw new Error("Text cannot be empty");if(!(a instanceof HTMLCanvasElement))throw new Error("Invalid canvas element");const e={...this.defaultOptions,...r},n={width:e.size||200,errorCorrectionLevel:e.errorCorrectionLevel||et.MEDIUM,color:e.color||{dark:"#000000",light:"#ffffff"},margin:e.margin||4,scale:e.scale||4};try{if(await Q.toCanvas(a,t,n),this.applyStyleCustomization(a,e),e.logo&&e.logo.src)try{await this.addLogoToCanvas(a,e.logo)}catch(i){console.warn("Failed to add logo to QR code:",i)}}catch(i){throw new Error(`Failed to render QR code to canvas: ${i instanceof Error?i.message:"Unknown error"}`)}}static applyStyleCustomization(t,a){const r=t.getContext("2d");if(!r)return;const e=t.width,n=t.height,i=document.createElement("canvas");i.width=e,i.height=n;const s=i.getContext("2d");s&&(s.drawImage(t,0,0),r.clearRect(0,0,e,n),this.drawBackground(r,e,n,a),this.applyComplexityEffects(r,i,a),a.shape==="rounded"||a.shape==="circle"||a.cornerRadius?this.processAndDrawCustomShapes(r,i,e,n,a):r.drawImage(i,0,0))}static drawBackground(t,a,r,e){var n,i,s;if((n=e.color)!=null&&n.gradient){const l=e.color.gradient.type==="radial"?t.createRadialGradient(a/2,r/2,0,a/2,r/2,a/2):t.createLinearGradient(0,0,a,r);(i=e.color.gradient.colors)==null||i.forEach((c,d)=>{var p,u,b;l.addColorStop(d/(((b=(u=(p=e.color)==null?void 0:p.gradient)==null?void 0:u.colors)==null?void 0:b.length)||0),c)}),t.fillStyle=l}else t.fillStyle=((s=e.color)==null?void 0:s.light)||"#ffffff";t.fillRect(0,0,a,r)}static applyComplexityEffects(t,a,r){const e=r.complexity||5,n=a.width,i=a.height;if(e<=2)t.imageSmoothingEnabled=!1,t.filter="contrast(120%) brightness(110%)";else if(e<=4)t.imageSmoothingEnabled=!0,t.filter="contrast(110%) brightness(105%)";else if(e<=6)t.imageSmoothingEnabled=!0,t.filter="none";else if(e<=8)t.imageSmoothingEnabled=!0,t.filter="contrast(105%) brightness(102%) sharpen(0.5)";else{t.imageSmoothingEnabled=!0,t.filter="contrast(102%) brightness(101%) sharpen(1)";const s=document.createElement("canvas");s.width=n,s.height=i;const l=s.getContext("2d");l&&(l.filter="blur(1px)",l.globalAlpha=.3,l.drawImage(a,2,2),t.globalAlpha=.1,t.drawImage(s,0,0),t.globalAlpha=1)}}static getLuminance(t){const a=this.hexToRgb(t);if(!a)return 0;const r=a.r/255,e=a.g/255,n=a.b/255,i=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4),s=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),l=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4);return .2126*i+.7152*s+.0722*l}static getContrastRatio(t,a){const r=Math.max(t,a),e=Math.min(t,a);return(r+.05)/(e+.05)}static hexToRgb(t){const a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null}static rgbToHex(t,a,r){return"#"+((1<<24)+(t<<16)+(a<<8)+r).toString(16).slice(1)}static adjustColorForContrast(t,a,r,e){const n=this.hexToRgb(t);if(!n)return e?"#000000":"#ffffff";let i=n.r,s=n.g,l=n.b;const c=e?.9:1.1;for(let d=0;d<20;d++){const p=this.getLuminance(this.rgbToHex(Math.round(i),Math.round(s),Math.round(l)));if(this.getContrastRatio(p,a)>=r)break;e?(i*=c,s*=c,l*=c,i=Math.max(0,i),s=Math.max(0,s),l=Math.max(0,l)):(i=Math.min(255,i/c),s=Math.min(255,s/c),l=Math.min(255,l/c))}return this.rgbToHex(Math.round(i),Math.round(s),Math.round(l))}static darkenColor(t,a){const r=this.hexToRgb(t);return r?this.rgbToHex(Math.round(r.r*(1-a)),Math.round(r.g*(1-a)),Math.round(r.b*(1-a))):t}static processAndDrawCustomShapes(t,a,r,e,n){var i,s,l;const c=a.getContext("2d");if(!c)return;const d=c.getImageData(0,0,r,e).data,p=Math.max(1,Math.ceil(r/40)),u=Math.min(p,Math.ceil(e/40)),b=n.moduleSize||100,w=n.moduleSpacing||0,L=u*(b/100),B=(u-L)/2+w/2,g=n.shape||"square",E=((i=n.color)==null?void 0:i.dark)||"#000000",m=n.cornerRadius,h=(s=n.color)!=null&&s.gradient?{colors:n.color.gradient.colors||[]}:void 0,I=n.randomness,C=[];let S=0;for(let T=0;T<e;T+=u)for(let A=0;A<r;A+=u)this.isModuleDark(d,A,T,r,e,u)&&C.push({x:A,y:T,index:S++});(l=n.animation)!=null&&l.enabled?this.drawWithAnimation(t,C,g,L,B,E,m,h,I,n.animation):C.length>0&&(h&&h.colors.length>0?C.forEach(T=>{const A=T.x+B,k=T.y+B;this.drawCustomShapeOptimized(t,g,A,k,L,E,m,h,I)}):(t.save(),t.fillStyle=E,this.batchDrawShapes(t,g,C,B,L,m),t.restore()))}static drawCustomShape(t,a,r,e,n,i,s,l,c){if(t.save(),c&&c>0){const d=(Math.random()-.5)*c,p=(Math.random()-.5)*c*.1;t.translate(r+n/2+d,e+n/2+d),t.rotate(p),t.translate(-n/2,-n/2)}else t.translate(r,e);if(l&&l.colors.length>0){const d=t.createLinearGradient(0,0,n,n);l.colors.forEach((p,u)=>{d.addColorStop(u/(l.colors.length-1),p)}),t.fillStyle=d}else t.fillStyle=i;switch(a){case"circle":t.beginPath(),t.arc(n/2,n/2,n/2,0,2*Math.PI),t.fill();break;case"rounded":const d=s||n*.2;t.beginPath(),t.roundRect(0,0,n,n,d),t.fill();break;case"star":const p=n/2,u=n/2,b=n*.4,w=n*.2;this.drawStar(t,p,u,b,w,5),t.fill();break;case"hexagon":const L=n/2,B=n/2,g=n*.4;this.drawHexagon(t,L,B,g),t.fill();break;case"diamond":t.beginPath(),t.moveTo(n/2,0),t.lineTo(n,n/2),t.lineTo(n/2,n),t.lineTo(0,n/2),t.closePath(),t.fill();break;case"triangle":t.beginPath(),t.moveTo(n/2,0),t.lineTo(n,n),t.lineTo(0,n),t.closePath(),t.fill();break;default:t.fillRect(0,0,n,n);break}t.restore()}static batchDrawShapes(t,a,r,e,n,i){switch(a){case"square":t.beginPath(),r.forEach(s=>{const l=s.x+e,c=s.y+e;t.rect(l,c,n,n)}),t.fill();break;case"circle":t.beginPath(),r.forEach(s=>{const l=s.x+e+n/2,c=s.y+e+n/2;t.moveTo(l+n/2,c),t.arc(l,c,n/2,0,2*Math.PI)}),t.fill();break;default:r.forEach(s=>{const l=s.x+e,c=s.y+e;this.drawCustomShape(t,a,l,c,n,t.fillStyle,i)});break}}static drawCustomShapeOptimized(t,a,r,e,n,i,s,l,c){if(t.save(),c&&c>0){const d=(Math.random()-.5)*c,p=(Math.random()-.5)*c*.1;t.translate(r+n/2+d,e+n/2+d),t.rotate(p),t.translate(-n/2,-n/2)}else t.translate(r,e);if(l&&l.colors.length>0){const d=t.createLinearGradient(0,0,n,n);l.colors.forEach((p,u)=>{d.addColorStop(u/(l.colors.length-1),p)}),t.fillStyle=d}switch(a){case"circle":t.beginPath(),t.arc(n/2,n/2,n/2,0,2*Math.PI),t.fill();break;case"rounded":const d=s||n*.2;t.beginPath(),t.roundRect(0,0,n,n,d),t.fill();break;case"star":const p=n/2,u=n/2,b=n*.4,w=n*.2;this.drawStar(t,p,u,b,w,5),t.fill();break;case"hexagon":const L=n/2,B=n/2,g=n*.4;this.drawHexagon(t,L,B,g),t.fill();break;case"diamond":t.beginPath(),t.moveTo(n/2,0),t.lineTo(n,n/2),t.lineTo(n/2,n),t.lineTo(0,n/2),t.closePath(),t.fill();break;case"triangle":t.beginPath(),t.moveTo(n/2,0),t.lineTo(n,n),t.lineTo(0,n),t.closePath(),t.fill();break;default:t.fillRect(0,0,n,n);break}t.restore()}static isModuleDark(t,a,r,e,n,i){const s=`${a}-${r}-${i}`;if(this.moduleDarkCache.has(s))return this.moduleDarkCache.get(s);const l=Math.min(a+Math.floor(i*.5),e-1),c=(Math.min(r+Math.floor(i*.5),n-1)*e+l)*4,d=t[c],p=t[c+1],u=t[c+2],b=.299*d+.587*p+.114*u<128;return this.moduleDarkCache.set(s,b),b}static drawStar(t,a,r,e,n,i){const s=Math.PI/i;t.beginPath();for(let l=0;l<2*i;l++){const c=l%2===0?e:n,d=a+Math.cos(l*s-Math.PI/2)*c,p=r+Math.sin(l*s-Math.PI/2)*c;l===0?t.moveTo(d,p):t.lineTo(d,p)}t.closePath()}static drawHexagon(t,a,r,e){const n=Math.PI/3;t.beginPath();for(let i=0;i<6;i++){const s=a+Math.cos(i*n-Math.PI/2)*e,l=r+Math.sin(i*n-Math.PI/2)*e;i===0?t.moveTo(s,l):t.lineTo(s,l)}t.closePath()}static drawWithAnimation(t,a,r,e,n,i,s,l,c,d){const p=d||{},u=p.type||"fade",b=p.duration||1e3,w=p.delay||0,L=p.stagger||50,B=p.direction||"forward";let g=[...a];if(B==="reverse")g.reverse();else if(B==="alternate"){const E=new Map;a.forEach(m=>{const h=Math.floor(m.y/e);E.has(h)||E.set(h,[]),E.get(h).push(m)}),g=[],Array.from(E.entries()).sort(([m],[h])=>m-h).forEach(([m,h])=>{m%2===0?g.push(...h):g.push(...h.reverse())})}g.forEach((E,m)=>{const h=E.x+n,I=E.y+n;t.save();const C=Math.min(1,Math.max(0,(Date.now()-w-m*L)/b)),S=this.easeInOutCubic(C);switch(u){case"fade":t.globalAlpha=S;break;case"scale":const T=S;t.translate(h+e/2,I+e/2),t.scale(T,T),t.translate(-e/2,-e/2);break;case"rotate":const A=S*Math.PI*2;t.translate(h+e/2,I+e/2),t.rotate(A),t.translate(-e/2,-e/2);break;case"bounce":const k=S<.5?S*2:2-S*2;t.translate(h+e/2,I+e/2),t.scale(k,k),t.translate(-e/2,-e/2);break;case"pulse":const P=.5+S*.5;t.translate(h+e/2,I+e/2),t.scale(P,P),t.translate(-e/2,-e/2);break}l&&l.colors.length>0?this.drawCustomShapeOptimized(t,r,0,0,e,i,s,l,c):this.drawCustomShape(t,r,0,0,e,i,s,void 0,c),t.restore()})}static easeInOutCubic(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}static async addLogoToCanvas(t,a){return new Promise((r,e)=>{const n=t.getContext("2d");if(!n){e(new Error("Failed to get canvas context"));return}const i=new Image;i.crossOrigin="anonymous",i.onload=()=>{try{const s=t.width,l=a.size||s*.2,c=(s-l)/2,d=(s-l)/2;n.fillStyle="#ffffff",n.fillRect(c-5,d-5,l+10,l+10),n.drawImage(i,c,d,l,l),r()}catch(s){e(s)}},i.onerror=()=>{e(new Error("Failed to load logo image"))},i.src=a.src})}}ce($,"defaultOptions",{size:200,errorCorrectionLevel:et.MEDIUM,color:{dark:"#000000",light:"#ffffff"},margin:4,scale:4}),ce($,"moduleDarkCache",new Map);function Dn(){const o=document.getElementById("text-input"),t=document.getElementById("generate-btn"),a=document.getElementById("clear-btn"),r=document.getElementById("qrcode-png"),e=document.getElementById("qrcode-svg"),n=document.getElementById("qrcode-canvas"),i=document.getElementById("export-btn"),s=document.getElementById("export-format"),l=document.querySelectorAll(".data-type-tab"),c=document.getElementById("text-input-section"),d=document.getElementById("contact-input-section"),p=document.getElementById("wifi-input-section"),u=document.getElementById("email-input-section"),b=document.getElementById("sms-input-section"),w=document.getElementById("phone-input-section"),L=document.getElementById("location-input-section"),B=document.getElementById("contact-name"),g=document.getElementById("contact-phone"),E=document.getElementById("contact-email"),m=document.getElementById("contact-company"),h=document.getElementById("wifi-ssid"),I=document.getElementById("wifi-password"),C=document.getElementById("wifi-type"),S=document.getElementById("email-address"),T=document.getElementById("email-subject"),A=document.getElementById("email-body"),k=document.getElementById("sms-phone"),P=document.getElementById("sms-message"),O=document.getElementById("phone-number"),N=document.getElementById("location-latitude"),Et=document.getElementById("location-longitude"),W=document.getElementById("size-slider"),jt=document.getElementById("size-value"),rt=document.getElementById("margin-slider"),Kt=document.getElementById("margin-value"),wt=document.getElementById("dark-color"),bt=document.getElementById("light-color"),It=document.getElementById("error-correction"),Ct=document.getElementById("shape-select"),ot=document.getElementById("corner-radius-slider"),Qt=document.getElementById("corner-radius-value"),Lt=document.getElementById("module-size-slider"),Vt=document.getElementById("module-size-value"),Mt=document.getElementById("module-spacing-slider"),Yt=document.getElementById("module-spacing-value"),Bt=document.getElementById("randomness-slider"),_t=document.getElementById("randomness-value"),St=document.getElementById("smart-gradient"),Z=document.getElementById("gradient-type"),at=document.getElementById("gradient-colors"),j=document.getElementById("gradient-color-list"),Te=document.getElementById("add-gradient-color"),ke=document.getElementById("remove-gradient-color"),it=document.getElementById("complexity-slider"),Gt=document.getElementById("complexity-value"),Ae=document.getElementById("complexity-desc"),Wt=document.getElementById("logo-upload"),K=document.getElementById("logo-preview"),xt=document.getElementById("remove-logo"),Re=document.getElementById("clear-history-btn"),Zt=document.getElementById("history-list"),Xt=document.querySelectorAll(".tab-btn");let te="png",st="text",H={size:200,margin:4,color:{dark:"#000000",light:"#ffffff"},errorCorrectionLevel:et.MEDIUM,complexity:5,moduleSize:100,moduleSpacing:0,randomness:0,smartGradient:!0};function Pe(){t.disabled=!0,t.innerHTML=`
      <div class="spinner" style="width: 16px; height: 16px; border-width: 2px;"></div>
      生成中...
    `}function Ne(y,f,v,x){const z={id:Date.now().toString()+Math.random().toString(36).substr(2,9),data:y,dataType:f,dataURL:v,config:x,timestamp:Date.now()},D=lt();D.unshift(z),D.length>50&&D.pop(),localStorage.setItem("qrcode-history",JSON.stringify(D)),ct()}function lt(){const y=localStorage.getItem("qrcode-history");return y?JSON.parse(y):[]}function ct(){const y=lt();if(y.length===0){Zt.innerHTML='<p style="text-align: center; color: var(--text-secondary); grid-column: 1 / -1;">暂无历史记录</p>';return}Zt.innerHTML=y.map(f=>`
      <div class="history-item">
        <img src="${f.dataURL}" alt="二维码历史记录">
        <div class="history-item-info">${f.data.substring(0,20)}${f.data.length>20?"...":""}</div>
        <div class="history-item-date">${new Date(f.timestamp).toLocaleString()}</div>
        <div class="history-item-actions">
          <button class="btn-view" onclick="viewHistoryItem('${f.id}')">查看</button>
          <button class="btn-delete" onclick="deleteHistoryItem('${f.id}')">删除</button>
        </div>
      </div>
    `).join("")}function Ue(){confirm("确定要清除所有历史记录吗？")&&(localStorage.removeItem("qrcode-history"),ct())}function De(y){const f=lt().filter(v=>v.id!==y);localStorage.setItem("qrcode-history",JSON.stringify(f)),ct()}function ze(y){var f,v,x,z,D,dt,ie,se;const M=lt().find(Tt=>Tt.id===y);if(M){switch(H=M.config,st=M.dataType,W.value=M.config.size.toString(),jt.textContent=M.config.size.toString(),rt.value=M.config.margin.toString(),Kt.textContent=M.config.margin.toString(),wt.value=M.config.color.dark,bt.value=M.config.color.light,It.value=M.config.errorCorrectionLevel,Ct.value=M.config.shape||"square",ot.value=((f=M.config.cornerRadius)==null?void 0:f.toString())||"4",Qt.textContent=((v=M.config.cornerRadius)==null?void 0:v.toString())||"4",Lt.value=((x=M.config.moduleSize)==null?void 0:x.toString())||"100",Vt.textContent=((z=M.config.moduleSize)==null?void 0:z.toString())||"100",Mt.value=((D=M.config.moduleSpacing)==null?void 0:D.toString())||"0",Yt.textContent=((dt=M.config.moduleSpacing)==null?void 0:dt.toString())||"0",it.value=((ie=M.config.complexity)==null?void 0:ie.toString())||"5",Gt.textContent=((se=M.config.complexity)==null?void 0:se.toString())||"5",ne(M.config.complexity||5),M.config.randomness!==void 0&&(Bt.value=M.config.randomness.toString(),_t.textContent=M.config.randomness.toString()),M.config.smartGradient!==void 0&&(St.checked=M.config.smartGradient),M.config.color.gradient?(Z.value=M.config.color.gradient.type,at.style.display="block",document.querySelectorAll(".gradient-color-input").forEach((Tt,le)=>{M.config.color.gradient.colors[le]&&(Tt.value=M.config.color.gradient.colors[le])})):(Z.value="none",at.style.display="none"),oe(M.dataType),M.dataType){case"text":o.value=M.data;break}R()}}window.viewHistoryItem=ze,window.deleteHistoryItem=De;function He(){t.disabled=!1,t.innerHTML=`
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
        <circle cx="8.5" cy="8.5" r="1.5"></circle>
        <path d="M21 15l-5-5L5 21"></path>
      </svg>
      生成二维码
    `}function ee(){switch(r.style.display="none",e.style.display="none",n.style.display="none",te){case"png":r.style.display="block";break;case"svg":e.style.display="block";break;case"canvas":n.style.display="block";break}}function ne(y){const f={1:"极简模式 - 最基础的二维码",2:"简单模式 - 基本功能",3:"简洁模式 - 轻量级设计",4:"标准模式 - 平衡性能",5:"标准复杂度 - 推荐设置",6:"增强模式 - 更多细节",7:"复杂模式 - 丰富样式",8:"高级模式 - 精细设计",9:"专业模式 - 复杂样式",10:"极致模式 - 最高复杂度"};Ae.textContent=f[y]||"标准复杂度"}function re(){switch(st){case"text":return o.value.trim();case"contact":let y=`BEGIN:VCARD
VERSION:3.0
`;return B.value.trim()&&(y+=`FN:${B.value.trim()}
`),g.value.trim()&&(y+=`TEL:${g.value.trim()}
`),E.value.trim()&&(y+=`EMAIL:${E.value.trim()}
`),m.value.trim()&&(y+=`ORG:${m.value.trim()}
`),y+="END:VCARD",y;case"wifi":let f=`WIFI:T:${C.value};S:${h.value.trim()};`;return I.value.trim()&&(f+=`P:${I.value.trim()};`),f+=";",f;case"email":let v=`mailto:${S.value.trim()}`,x=[];return T.value.trim()&&x.push(`subject=${encodeURIComponent(T.value.trim())}`),A.value.trim()&&x.push(`body=${encodeURIComponent(A.value.trim())}`),x.length>0&&(v+=`?${x.join("&")}`),v;case"sms":let z=`sms:${k.value.trim()}`;return P.value.trim()&&(z+=`?body=${encodeURIComponent(P.value.trim())}`),z;case"phone":return`tel:${O.value.trim()}`;case"location":return`geo:${N.value.trim()},${Et.value.trim()}`;default:return o.value.trim()}}async function R(){const y=re();if(!y){alert("请输入数据");return}Pe();try{const f=document.querySelectorAll(".gradient-color-input"),v=Array.from(f).map(D=>D.value);H={size:parseInt(W.value),margin:parseInt(rt.value),color:{dark:wt.value,light:bt.value,gradient:Z.value!=="none"?{type:Z.value,colors:v}:void 0},errorCorrectionLevel:It.value,logo:K.src?{src:K.src,size:parseInt(W.value)*.2}:void 0,shape:Ct.value,cornerRadius:parseInt(ot.value),complexity:parseInt(it.value),moduleSize:parseInt(Lt.value),moduleSpacing:parseInt(Mt.value),randomness:parseInt(Bt.value),smartGradient:St.checked};const x=await $.generateQRCode(y,H);r.src=x.dataURL;const z=await $.exportAsSVG(y,H);e.innerHTML=z,await $.renderToCanvas(y,n,H),ee(),Ne(y,st,x.dataURL,H)}catch(f){console.error("生成二维码失败:",f),alert("生成二维码失败: "+(f instanceof Error?f.message:"未知错误"))}finally{He()}}async function Fe(){const y=re();if(!y){alert("请输入数据");return}try{switch(s.value){case"png":await $.exportAsPNG(y,H,{fileName:"qrcode.png"});break;case"jpg":await $.renderToCanvas(y,n,H);const f=n.toDataURL("image/jpeg",.9);$e(f,"qrcode.jpg");break;case"svg":await $.exportAsSVG(y,H,{fileName:"qrcode.svg"});break;default:await $.exportAsPNG(y,H,{fileName:"qrcode.png"})}}catch(f){console.error("导出二维码失败:",f),alert("导出二维码失败: "+(f instanceof Error?f.message:"未知错误"))}}function $e(y,f){const v=document.createElement("a");v.href=y,v.download=f,v.style.display="none",document.body.appendChild(v),v.click(),document.body.removeChild(v)}function Oe(){var y;o.value="",B.value="",g.value="",E.value="",m.value="",h.value="",I.value="",C.value="WPA",S.value="",T.value="",A.value="",k.value="",P.value="",O.value="",N.value="",Et.value="",r.src="",e.innerHTML="",(y=n.getContext("2d"))==null||y.clearRect(0,0,n.width,n.height),ae()}function oe(y){st=y,l.forEach(f=>{f.classList.remove("active"),f.dataset.type===y&&f.classList.add("active")}),c.style.display=y==="text"?"block":"none",d.style.display=y==="contact"?"block":"none",p.style.display=y==="wifi"?"block":"none",u.style.display=y==="email"?"block":"none",b.style.display=y==="sms"?"block":"none",w.style.display=y==="phone"?"block":"none",L.style.display=y==="location"?"block":"none",R()}function qe(y){var f;const v=(f=y.target.files)==null?void 0:f[0];if(v){const x=new FileReader;x.onload=z=>{var D;const dt=(D=z.target)==null?void 0:D.result;K.src=dt,K.style.display="block",xt.style.display="inline-block"},x.readAsDataURL(v)}}function ae(){K.src="",K.style.display="none",xt.style.display="none",Wt.value=""}function Je(y){te=y,Xt.forEach(f=>{f.classList.remove("active"),f.dataset.tab===y&&f.classList.add("active")}),ee()}function je(){t.addEventListener("click",R),a.addEventListener("click",Oe),i.addEventListener("click",Fe),Xt.forEach(v=>{v.addEventListener("click",()=>{Je(v.dataset.tab||"png")})}),W.addEventListener("input",v=>{const x=v.target.value;jt.textContent=x}),rt.addEventListener("input",v=>{const x=v.target.value;Kt.textContent=x}),it.addEventListener("input",v=>{const x=v.target.value;Gt.textContent=x,ne(parseInt(x))}),it.addEventListener("change",f),l.forEach(v=>{v.addEventListener("click",()=>{oe(v.dataset.type||"text")})}),Wt.addEventListener("change",qe),xt.addEventListener("click",ae);let y;function f(){clearTimeout(y),y=setTimeout(R,500)}o.addEventListener("input",f),B.addEventListener("input",f),g.addEventListener("input",f),E.addEventListener("input",f),m.addEventListener("input",f),h.addEventListener("input",f),I.addEventListener("input",f),C.addEventListener("change",f),S.addEventListener("input",f),T.addEventListener("input",f),A.addEventListener("input",f),k.addEventListener("input",f),P.addEventListener("input",f),O.addEventListener("input",f),N.addEventListener("input",f),Et.addEventListener("input",f),W.addEventListener("change",f),rt.addEventListener("change",f),wt.addEventListener("change",f),bt.addEventListener("change",f),It.addEventListener("change",f),Ct.addEventListener("change",f),ot.addEventListener("input",v=>{const x=v.target.value;Qt.textContent=x,R()}),ot.addEventListener("change",f),Lt.addEventListener("input",v=>{Vt.textContent=v.target.value,R()}),Mt.addEventListener("input",v=>{Yt.textContent=v.target.value,R()}),Bt.addEventListener("input",v=>{_t.textContent=v.target.value,R()}),St.addEventListener("change",()=>{R()}),Z.addEventListener("change",v=>{v.target.value==="none"?at.style.display="none":at.style.display="block",f()}),j.addEventListener("input",v=>{v.target.classList.contains("gradient-color-input")&&f()}),Te.addEventListener("click",()=>{const v=j.children.length,x=document.createElement("div");x.className="color-picker",x.innerHTML=`
        <span>颜色 ${v+1}:</span>
        <input 
          type="color" 
          class="gradient-color-input" 
          value="#${Math.floor(Math.random()*16777215).toString(16)}"
        >
      `,j.appendChild(x),f()}),ke.addEventListener("click",()=>{j.children.length>2&&(j.removeChild(j.lastElementChild),f())}),o.addEventListener("keypress",v=>{v.key==="Enter"&&R()}),S.addEventListener("keypress",v=>{v.key==="Enter"&&R()}),k.addEventListener("keypress",v=>{v.key==="Enter"&&R()}),O.addEventListener("keypress",v=>{v.key==="Enter"&&R()}),Re.addEventListener("click",Ue)}function Ke(){je(),ct(),R()}Ke()}document.addEventListener("DOMContentLoaded",Dn);
//# sourceMappingURL=main-BLdvsoXb.js.map
