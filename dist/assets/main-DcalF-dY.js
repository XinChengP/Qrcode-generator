var Xe=Object.defineProperty;var We=(i,t,r)=>t in i?Xe(i,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[t]=r;var Rt=(i,t,r)=>We(i,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const e of n)if(e.type==="childList")for(const a of e.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const e={};return n.integrity&&(e.integrity=n.integrity),n.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?e.credentials="include":n.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function o(n){if(n.ep)return;n.ep=!0;const e=r(n);fetch(n.href,e)}})();var J={},Ze=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},he={},D={};let Ot;const ze=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];D.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};D.getSymbolTotalCodewords=function(t){return ze[t]};D.getBCHDigit=function(i){let t=0;for(;i!==0;)t++,i>>>=1;return t};D.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Ot=t};D.isKanjiModeEnabled=function(){return typeof Ot<"u"};D.toSJIS=function(t){return Ot(t)};var mt={};(function(i){i.L={bit:1},i.M={bit:0},i.Q={bit:3},i.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return i.L;case"m":case"medium":return i.M;case"q":case"quartile":return i.Q;case"h":case"high":return i.H;default:throw new Error("Unknown EC Level: "+r)}}i.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},i.from=function(o,n){if(i.isValid(o))return o;try{return t(o)}catch{return n}}})(mt);function me(){this.buffer=[],this.length=0}me.prototype={get:function(i){const t=Math.floor(i/8);return(this.buffer[t]>>>7-i%8&1)===1},put:function(i,t){for(let r=0;r<t;r++)this.putBit((i>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(i){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),i&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var $e=me;function nt(i){if(!i||i<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=i,this.data=new Uint8Array(i*i),this.reservedBit=new Uint8Array(i*i)}nt.prototype.set=function(i,t,r,o){const n=i*this.size+t;this.data[n]=r,o&&(this.reservedBit[n]=!0)};nt.prototype.get=function(i,t){return this.data[i*this.size+t]};nt.prototype.xor=function(i,t,r){this.data[i*this.size+t]^=r};nt.prototype.isReserved=function(i,t){return this.reservedBit[i*this.size+t]};var xe=nt,ye={};(function(i){const t=D.getSymbolSize;i.getRowColCoords=function(o){if(o===1)return[];const n=Math.floor(o/7)+2,e=t(o),a=e===145?26:Math.ceil((e-13)/(2*n-2))*2,c=[e-7];for(let s=1;s<n-1;s++)c[s]=c[s-1]-a;return c.push(6),c.reverse()},i.getPositions=function(o){const n=[],e=i.getRowColCoords(o),a=e.length;for(let c=0;c<a;c++)for(let s=0;s<a;s++)c===0&&s===0||c===0&&s===a-1||c===a-1&&s===0||n.push([e[c],e[s]]);return n}})(ye);var pe={};const tn=D.getSymbolSize,ue=7;pe.getPositions=function(t){const r=tn(t);return[[0,0],[r-ue,0],[0,r-ue]]};var Ee={};(function(i){i.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};i.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7},i.from=function(n){return i.isValid(n)?parseInt(n,10):void 0},i.getPenaltyN1=function(n){const e=n.size;let a=0,c=0,s=0,l=null,d=null;for(let E=0;E<e;E++){c=s=0,l=d=null;for(let m=0;m<e;m++){let h=n.get(E,m);h===l?c++:(c>=5&&(a+=t.N1+(c-5)),l=h,c=1),h=n.get(m,E),h===d?s++:(s>=5&&(a+=t.N1+(s-5)),d=h,s=1)}c>=5&&(a+=t.N1+(c-5)),s>=5&&(a+=t.N1+(s-5))}return a},i.getPenaltyN2=function(n){const e=n.size;let a=0;for(let c=0;c<e-1;c++)for(let s=0;s<e-1;s++){const l=n.get(c,s)+n.get(c,s+1)+n.get(c+1,s)+n.get(c+1,s+1);(l===4||l===0)&&a++}return a*t.N2},i.getPenaltyN3=function(n){const e=n.size;let a=0,c=0,s=0;for(let l=0;l<e;l++){c=s=0;for(let d=0;d<e;d++)c=c<<1&2047|n.get(l,d),d>=10&&(c===1488||c===93)&&a++,s=s<<1&2047|n.get(d,l),d>=10&&(s===1488||s===93)&&a++}return a*t.N3},i.getPenaltyN4=function(n){let e=0;const a=n.data.length;for(let s=0;s<a;s++)e+=n.data[s];return Math.abs(Math.ceil(e*100/a/5)-10)*t.N4};function r(o,n,e){switch(o){case i.Patterns.PATTERN000:return(n+e)%2===0;case i.Patterns.PATTERN001:return n%2===0;case i.Patterns.PATTERN010:return e%3===0;case i.Patterns.PATTERN011:return(n+e)%3===0;case i.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(e/3))%2===0;case i.Patterns.PATTERN101:return n*e%2+n*e%3===0;case i.Patterns.PATTERN110:return(n*e%2+n*e%3)%2===0;case i.Patterns.PATTERN111:return(n*e%3+(n+e)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}i.applyMask=function(n,e){const a=e.size;for(let c=0;c<a;c++)for(let s=0;s<a;s++)e.isReserved(s,c)||e.xor(s,c,r(n,s,c))},i.getBestMask=function(n,e){const a=Object.keys(i.Patterns).length;let c=0,s=1/0;for(let l=0;l<a;l++){e(l),i.applyMask(l,n);const d=i.getPenaltyN1(n)+i.getPenaltyN2(n)+i.getPenaltyN3(n)+i.getPenaltyN4(n);i.applyMask(l,n),d<s&&(s=d,c=l)}return c}})(Ee);var yt={};const G=mt,ut=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ft=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];yt.getBlocksCount=function(t,r){switch(r){case G.L:return ut[(t-1)*4+0];case G.M:return ut[(t-1)*4+1];case G.Q:return ut[(t-1)*4+2];case G.H:return ut[(t-1)*4+3];default:return}};yt.getTotalCodewordsCount=function(t,r){switch(r){case G.L:return ft[(t-1)*4+0];case G.M:return ft[(t-1)*4+1];case G.Q:return ft[(t-1)*4+2];case G.H:return ft[(t-1)*4+3];default:return}};var we={},pt={};const x=new Uint8Array(512),gt=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)x[r]=t,gt[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)x[r]=x[r-255]})();pt.log=function(t){if(t<1)throw new Error("log("+t+")");return gt[t]};pt.exp=function(t){return x[t]};pt.mul=function(t,r){return t===0||r===0?0:x[gt[t]+gt[r]]};(function(i){const t=pt;i.mul=function(o,n){const e=new Uint8Array(o.length+n.length-1);for(let a=0;a<o.length;a++)for(let c=0;c<n.length;c++)e[a+c]^=t.mul(o[a],n[c]);return e},i.mod=function(o,n){let e=new Uint8Array(o);for(;e.length-n.length>=0;){const a=e[0];for(let s=0;s<n.length;s++)e[s]^=t.mul(n[s],a);let c=0;for(;c<e.length&&e[c]===0;)c++;e=e.slice(c)}return e},i.generateECPolynomial=function(o){let n=new Uint8Array([1]);for(let e=0;e<o;e++)n=i.mul(n,new Uint8Array([1,t.exp(e)]));return n}})(we);const Ce=we;function Vt(i){this.genPoly=void 0,this.degree=i,this.degree&&this.initialize(this.degree)}Vt.prototype.initialize=function(t){this.degree=t,this.genPoly=Ce.generateECPolynomial(this.degree)};Vt.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const o=Ce.mod(r,this.genPoly),n=this.degree-o.length;if(n>0){const e=new Uint8Array(this.degree);return e.set(o,n),e}return o};var en=Vt,ve={},q={},Gt={};Gt.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var H={};const Ie="[0-9]+",nn="[A-Z $%*+\\-./:]+";let et="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";et=et.replace(/u/g,"\\u");const on="(?:(?![A-Z0-9 $%*+\\-./:]|"+et+`)(?:.|[\r
]))+`;H.KANJI=new RegExp(et,"g");H.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");H.BYTE=new RegExp(on,"g");H.NUMERIC=new RegExp(Ie,"g");H.ALPHANUMERIC=new RegExp(nn,"g");const rn=new RegExp("^"+et+"$"),an=new RegExp("^"+Ie+"$"),sn=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");H.testKanji=function(t){return rn.test(t)};H.testNumeric=function(t){return an.test(t)};H.testAlphanumeric=function(t){return sn.test(t)};(function(i){const t=Gt,r=H;i.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},i.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},i.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},i.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},i.MIXED={bit:-1},i.getCharCountIndicator=function(e,a){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!t.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?e.ccBits[0]:a<27?e.ccBits[1]:e.ccBits[2]},i.getBestModeForData=function(e){return r.testNumeric(e)?i.NUMERIC:r.testAlphanumeric(e)?i.ALPHANUMERIC:r.testKanji(e)?i.KANJI:i.BYTE},i.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},i.isValid=function(e){return e&&e.bit&&e.ccBits};function o(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return i.NUMERIC;case"alphanumeric":return i.ALPHANUMERIC;case"kanji":return i.KANJI;case"byte":return i.BYTE;default:throw new Error("Unknown mode: "+n)}}i.from=function(e,a){if(i.isValid(e))return e;try{return o(e)}catch{return a}}})(q);(function(i){const t=D,r=yt,o=mt,n=q,e=Gt,a=7973,c=t.getBCHDigit(a);function s(m,h,v){for(let I=1;I<=40;I++)if(h<=i.getCapacity(I,v,m))return I}function l(m,h){return n.getCharCountIndicator(m,h)+4}function d(m,h){let v=0;return m.forEach(function(I){const S=l(I.mode,h);v+=S+I.getBitsLength()}),v}function E(m,h){for(let v=1;v<=40;v++)if(d(m,v)<=i.getCapacity(v,h,n.MIXED))return v}i.from=function(h,v){return e.isValid(h)?parseInt(h,10):v},i.getCapacity=function(h,v,I){if(!e.isValid(h))throw new Error("Invalid QR Code version");typeof I>"u"&&(I=n.BYTE);const S=t.getSymbolTotalCodewords(h),y=r.getTotalCodewordsCount(h,v),C=(S-y)*8;if(I===n.MIXED)return C;const p=C-l(I,h);switch(I){case n.NUMERIC:return Math.floor(p/10*3);case n.ALPHANUMERIC:return Math.floor(p/11*2);case n.KANJI:return Math.floor(p/13);case n.BYTE:default:return Math.floor(p/8)}},i.getBestVersionForData=function(h,v){let I;const S=o.from(v,o.M);if(Array.isArray(h)){if(h.length>1)return E(h,S);if(h.length===0)return 1;I=h[0]}else I=h;return s(I.mode,I.getLength(),S)},i.getEncodedBits=function(h){if(!e.isValid(h)||h<7)throw new Error("Invalid QR Code version");let v=h<<12;for(;t.getBCHDigit(v)-c>=0;)v^=a<<t.getBCHDigit(v)-c;return h<<12|v}})(ve);var be={};const Ut=D,Be=1335,cn=21522,fe=Ut.getBCHDigit(Be);be.getEncodedBits=function(t,r){const o=t.bit<<3|r;let n=o<<10;for(;Ut.getBCHDigit(n)-fe>=0;)n^=Be<<Ut.getBCHDigit(n)-fe;return(o<<10|n)^cn};var Se={};const ln=q;function K(i){this.mode=ln.NUMERIC,this.data=i.toString()}K.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};K.prototype.getLength=function(){return this.data.length};K.prototype.getBitsLength=function(){return K.getBitsLength(this.data.length)};K.prototype.write=function(t){let r,o,n;for(r=0;r+3<=this.data.length;r+=3)o=this.data.substr(r,3),n=parseInt(o,10),t.put(n,10);const e=this.data.length-r;e>0&&(o=this.data.substr(r),n=parseInt(o,10),t.put(n,e*3+1))};var dn=K;const un=q,kt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Q(i){this.mode=un.ALPHANUMERIC,this.data=i}Q.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Q.prototype.getLength=function(){return this.data.length};Q.prototype.getBitsLength=function(){return Q.getBitsLength(this.data.length)};Q.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let o=kt.indexOf(this.data[r])*45;o+=kt.indexOf(this.data[r+1]),t.put(o,11)}this.data.length%2&&t.put(kt.indexOf(this.data[r]),6)};var fn=Q;const gn=q;function X(i){this.mode=gn.BYTE,typeof i=="string"?this.data=new TextEncoder().encode(i):this.data=new Uint8Array(i)}X.getBitsLength=function(t){return t*8};X.prototype.getLength=function(){return this.data.length};X.prototype.getBitsLength=function(){return X.getBitsLength(this.data.length)};X.prototype.write=function(i){for(let t=0,r=this.data.length;t<r;t++)i.put(this.data[t],8)};var hn=X;const mn=q,yn=D;function W(i){this.mode=mn.KANJI,this.data=i}W.getBitsLength=function(t){return t*13};W.prototype.getLength=function(){return this.data.length};W.prototype.getBitsLength=function(){return W.getBitsLength(this.data.length)};W.prototype.write=function(i){let t;for(t=0;t<this.data.length;t++){let r=yn.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),i.put(r,13)}};var pn=W,Le={exports:{}};(function(i){var t={single_source_shortest_paths:function(r,o,n){var e={},a={};a[o]=0;var c=t.PriorityQueue.make();c.push(o,0);for(var s,l,d,E,m,h,v,I,S;!c.empty();){s=c.pop(),l=s.value,E=s.cost,m=r[l]||{};for(d in m)m.hasOwnProperty(d)&&(h=m[d],v=E+h,I=a[d],S=typeof a[d]>"u",(S||I>v)&&(a[d]=v,c.push(d,v),e[d]=l))}if(typeof n<"u"&&typeof a[n]>"u"){var y=["Could not find a path from ",o," to ",n,"."].join("");throw new Error(y)}return e},extract_shortest_path_from_predecessor_list:function(r,o){for(var n=[],e=o;e;)n.push(e),r[e],e=r[e];return n.reverse(),n},find_path:function(r,o,n){var e=t.single_source_shortest_paths(r,o,n);return t.extract_shortest_path_from_predecessor_list(e,n)},PriorityQueue:{make:function(r){var o=t.PriorityQueue,n={},e;r=r||{};for(e in o)o.hasOwnProperty(e)&&(n[e]=o[e]);return n.queue=[],n.sorter=r.sorter||o.default_sorter,n},default_sorter:function(r,o){return r.cost-o.cost},push:function(r,o){var n={value:r,cost:o};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};i.exports=t})(Le);var En=Le.exports;(function(i){const t=q,r=dn,o=fn,n=hn,e=pn,a=H,c=D,s=En;function l(y){return unescape(encodeURIComponent(y)).length}function d(y,C,p){const f=[];let b;for(;(b=y.exec(p))!==null;)f.push({data:b[0],index:b.index,mode:C,length:b[0].length});return f}function E(y){const C=d(a.NUMERIC,t.NUMERIC,y),p=d(a.ALPHANUMERIC,t.ALPHANUMERIC,y);let f,b;return c.isKanjiModeEnabled()?(f=d(a.BYTE,t.BYTE,y),b=d(a.KANJI,t.KANJI,y)):(f=d(a.BYTE_KANJI,t.BYTE,y),b=[]),C.concat(p,f,b).sort(function(B,k){return B.index-k.index}).map(function(B){return{data:B.data,mode:B.mode,length:B.length}})}function m(y,C){switch(C){case t.NUMERIC:return r.getBitsLength(y);case t.ALPHANUMERIC:return o.getBitsLength(y);case t.KANJI:return e.getBitsLength(y);case t.BYTE:return n.getBitsLength(y)}}function h(y){return y.reduce(function(C,p){const f=C.length-1>=0?C[C.length-1]:null;return f&&f.mode===p.mode?(C[C.length-1].data+=p.data,C):(C.push(p),C)},[])}function v(y){const C=[];for(let p=0;p<y.length;p++){const f=y[p];switch(f.mode){case t.NUMERIC:C.push([f,{data:f.data,mode:t.ALPHANUMERIC,length:f.length},{data:f.data,mode:t.BYTE,length:f.length}]);break;case t.ALPHANUMERIC:C.push([f,{data:f.data,mode:t.BYTE,length:f.length}]);break;case t.KANJI:C.push([f,{data:f.data,mode:t.BYTE,length:l(f.data)}]);break;case t.BYTE:C.push([{data:f.data,mode:t.BYTE,length:l(f.data)}])}}return C}function I(y,C){const p={},f={start:{}};let b=["start"];for(let L=0;L<y.length;L++){const B=y[L],k=[];for(let R=0;R<B.length;R++){const T=B[R],A=""+L+R;k.push(A),p[A]={node:T,lastCount:0},f[A]={};for(let V=0;V<b.length;V++){const N=b[V];p[N]&&p[N].node.mode===T.mode?(f[N][A]=m(p[N].lastCount+T.length,T.mode)-m(p[N].lastCount,T.mode),p[N].lastCount+=T.length):(p[N]&&(p[N].lastCount=T.length),f[N][A]=m(T.length,T.mode)+4+t.getCharCountIndicator(T.mode,C))}}b=k}for(let L=0;L<b.length;L++)f[b[L]].end=0;return{map:f,table:p}}function S(y,C){let p;const f=t.getBestModeForData(y);if(p=t.from(C,f),p!==t.BYTE&&p.bit<f.bit)throw new Error('"'+y+'" cannot be encoded with mode '+t.toString(p)+`.
 Suggested mode is: `+t.toString(f));switch(p===t.KANJI&&!c.isKanjiModeEnabled()&&(p=t.BYTE),p){case t.NUMERIC:return new r(y);case t.ALPHANUMERIC:return new o(y);case t.KANJI:return new e(y);case t.BYTE:return new n(y)}}i.fromArray=function(C){return C.reduce(function(p,f){return typeof f=="string"?p.push(S(f,null)):f.data&&p.push(S(f.data,f.mode)),p},[])},i.fromString=function(C,p){const f=E(C,c.isKanjiModeEnabled()),b=v(f),L=I(b,p),B=s.find_path(L.map,"start","end"),k=[];for(let R=1;R<B.length-1;R++)k.push(L.table[B[R]].node);return i.fromArray(h(k))},i.rawSplit=function(C){return i.fromArray(E(C,c.isKanjiModeEnabled()))}})(Se);const Et=D,At=mt,wn=$e,Cn=xe,vn=ye,In=pe,Ft=Ee,_t=yt,bn=en,ht=ve,Bn=be,Sn=q,Pt=Se;function Ln(i,t){const r=i.size,o=In.getPositions(t);for(let n=0;n<o.length;n++){const e=o[n][0],a=o[n][1];for(let c=-1;c<=7;c++)if(!(e+c<=-1||r<=e+c))for(let s=-1;s<=7;s++)a+s<=-1||r<=a+s||(c>=0&&c<=6&&(s===0||s===6)||s>=0&&s<=6&&(c===0||c===6)||c>=2&&c<=4&&s>=2&&s<=4?i.set(e+c,a+s,!0,!0):i.set(e+c,a+s,!1,!0))}}function Mn(i){const t=i.size;for(let r=8;r<t-8;r++){const o=r%2===0;i.set(r,6,o,!0),i.set(6,r,o,!0)}}function Tn(i,t){const r=vn.getPositions(t);for(let o=0;o<r.length;o++){const n=r[o][0],e=r[o][1];for(let a=-2;a<=2;a++)for(let c=-2;c<=2;c++)a===-2||a===2||c===-2||c===2||a===0&&c===0?i.set(n+a,e+c,!0,!0):i.set(n+a,e+c,!1,!0)}}function Rn(i,t){const r=i.size,o=ht.getEncodedBits(t);let n,e,a;for(let c=0;c<18;c++)n=Math.floor(c/3),e=c%3+r-8-3,a=(o>>c&1)===1,i.set(n,e,a,!0),i.set(e,n,a,!0)}function Nt(i,t,r){const o=i.size,n=Bn.getEncodedBits(t,r);let e,a;for(e=0;e<15;e++)a=(n>>e&1)===1,e<6?i.set(e,8,a,!0):e<8?i.set(e+1,8,a,!0):i.set(o-15+e,8,a,!0),e<8?i.set(8,o-e-1,a,!0):e<9?i.set(8,15-e-1+1,a,!0):i.set(8,15-e-1,a,!0);i.set(o-8,8,1,!0)}function kn(i,t){const r=i.size;let o=-1,n=r-1,e=7,a=0;for(let c=r-1;c>0;c-=2)for(c===6&&c--;;){for(let s=0;s<2;s++)if(!i.isReserved(n,c-s)){let l=!1;a<t.length&&(l=(t[a]>>>e&1)===1),i.set(n,c-s,l),e--,e===-1&&(a++,e=7)}if(n+=o,n<0||r<=n){n-=o,o=-o;break}}}function An(i,t,r){const o=new wn;r.forEach(function(s){o.put(s.mode.bit,4),o.put(s.getLength(),Sn.getCharCountIndicator(s.mode,i)),s.write(o)});const n=Et.getSymbolTotalCodewords(i),e=_t.getTotalCodewordsCount(i,t),a=(n-e)*8;for(o.getLengthInBits()+4<=a&&o.put(0,4);o.getLengthInBits()%8!==0;)o.putBit(0);const c=(a-o.getLengthInBits())/8;for(let s=0;s<c;s++)o.put(s%2?17:236,8);return Pn(o,i,t)}function Pn(i,t,r){const o=Et.getSymbolTotalCodewords(t),n=_t.getTotalCodewordsCount(t,r),e=o-n,a=_t.getBlocksCount(t,r),c=o%a,s=a-c,l=Math.floor(o/a),d=Math.floor(e/a),E=d+1,m=l-d,h=new bn(m);let v=0;const I=new Array(a),S=new Array(a);let y=0;const C=new Uint8Array(i.buffer);for(let B=0;B<a;B++){const k=B<s?d:E;I[B]=C.slice(v,v+k),S[B]=h.encode(I[B]),v+=k,y=Math.max(y,k)}const p=new Uint8Array(o);let f=0,b,L;for(b=0;b<y;b++)for(L=0;L<a;L++)b<I[L].length&&(p[f++]=I[L][b]);for(b=0;b<m;b++)for(L=0;L<a;L++)p[f++]=S[L][b];return p}function Nn(i,t,r,o){let n;if(Array.isArray(i))n=Pt.fromArray(i);else if(typeof i=="string"){let l=t;if(!l){const d=Pt.rawSplit(i);l=ht.getBestVersionForData(d,r)}n=Pt.fromString(i,l||40)}else throw new Error("Invalid data");const e=ht.getBestVersionForData(n,r);if(!e)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=e;else if(t<e)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+e+`.
`);const a=An(t,r,n),c=Et.getSymbolSize(t),s=new Cn(c);return Ln(s,t),Mn(s),Tn(s,t),Nt(s,r,0),t>=7&&Rn(s,t),kn(s,a),isNaN(o)&&(o=Ft.getBestMask(s,Nt.bind(null,s,r))),Ft.applyMask(o,s),Nt(s,r,o),{modules:s,version:t,errorCorrectionLevel:r,maskPattern:o,segments:n}}he.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let o=At.M,n,e;return typeof r<"u"&&(o=At.from(r.errorCorrectionLevel,At.M),n=ht.from(r.version),e=Ft.from(r.maskPattern),r.toSJISFunc&&Et.setToSJISFunction(r.toSJISFunc)),Nn(t,n,o,e)};var Me={},qt={};(function(i){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let o=r.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+r);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(e){return[e,e]}))),o.length===6&&o.push("F","F");const n=parseInt(o.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+o.slice(0,6).join("")}}i.getOptions=function(o){o||(o={}),o.color||(o.color={});const n=typeof o.margin>"u"||o.margin===null||o.margin<0?4:o.margin,e=o.width&&o.width>=21?o.width:void 0,a=o.scale||4;return{width:e,scale:e?4:a,margin:n,color:{dark:t(o.color.dark||"#000000ff"),light:t(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},i.getScale=function(o,n){return n.width&&n.width>=o+n.margin*2?n.width/(o+n.margin*2):n.scale},i.getImageWidth=function(o,n){const e=i.getScale(o,n);return Math.floor((o+n.margin*2)*e)},i.qrToImageData=function(o,n,e){const a=n.modules.size,c=n.modules.data,s=i.getScale(a,e),l=Math.floor((a+e.margin*2)*s),d=e.margin*s,E=[e.color.light,e.color.dark];for(let m=0;m<l;m++)for(let h=0;h<l;h++){let v=(m*l+h)*4,I=e.color.light;if(m>=d&&h>=d&&m<l-d&&h<l-d){const S=Math.floor((m-d)/s),y=Math.floor((h-d)/s);I=E[c[S*a+y]?1:0]}o[v++]=I.r,o[v++]=I.g,o[v++]=I.b,o[v]=I.a}}})(qt);(function(i){const t=qt;function r(n,e,a){n.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=a,e.width=a,e.style.height=a+"px",e.style.width=a+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}i.render=function(e,a,c){let s=c,l=a;typeof s>"u"&&(!a||!a.getContext)&&(s=a,a=void 0),a||(l=o()),s=t.getOptions(s);const d=t.getImageWidth(e.modules.size,s),E=l.getContext("2d"),m=E.createImageData(d,d);return t.qrToImageData(m.data,e,s),r(E,l,d),E.putImageData(m,0,0),l},i.renderToDataURL=function(e,a,c){let s=c;typeof s>"u"&&(!a||!a.getContext)&&(s=a,a=void 0),s||(s={});const l=i.render(e,a,s),d=s.type||"image/png",E=s.rendererOpts||{};return l.toDataURL(d,E.quality)}})(Me);var Te={};const Dn=qt;function ge(i,t){const r=i.a/255,o=t+'="'+i.hex+'"';return r<1?o+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':o}function Dt(i,t,r){let o=i+t;return typeof r<"u"&&(o+=" "+r),o}function Un(i,t,r){let o="",n=0,e=!1,a=0;for(let c=0;c<i.length;c++){const s=Math.floor(c%t),l=Math.floor(c/t);!s&&!e&&(e=!0),i[c]?(a++,c>0&&s>0&&i[c-1]||(o+=e?Dt("M",s+r,.5+l+r):Dt("m",n,0),n=0,e=!1),s+1<t&&i[c+1]||(o+=Dt("h",a),a=0)):n++}return o}Te.render=function(t,r,o){const n=Dn.getOptions(r),e=t.modules.size,a=t.modules.data,c=e+n.margin*2,s=n.color.light.a?"<path "+ge(n.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",l="<path "+ge(n.color.dark,"stroke")+' d="'+Un(a,e,n.margin)+'"/>',d='viewBox="0 0 '+c+" "+c+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+d+' shape-rendering="crispEdges">'+s+l+`</svg>
`;return typeof o=="function"&&o(null,m),m};const Fn=Ze,Ht=he,Re=Me,_n=Te;function Yt(i,t,r,o,n){const e=[].slice.call(arguments,1),a=e.length,c=typeof e[a-1]=="function";if(!c&&!Fn())throw new Error("Callback required as last argument");if(c){if(a<2)throw new Error("Too few arguments provided");a===2?(n=r,r=t,t=o=void 0):a===3&&(t.getContext&&typeof n>"u"?(n=o,o=void 0):(n=o,o=r,r=t,t=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(r=t,t=o=void 0):a===2&&!t.getContext&&(o=r,r=t,t=void 0),new Promise(function(s,l){try{const d=Ht.create(r,o);s(i(d,t,o))}catch(d){l(d)}})}try{const s=Ht.create(r,o);n(null,i(s,t,o))}catch(s){n(s)}}J.create=Ht.create;J.toCanvas=Yt.bind(null,Re.render);J.toDataURL=Yt.bind(null,Re.renderToDataURL);J.toString=Yt.bind(null,function(i,t,r){return _n.render(i,r)});var tt=(i=>(i.LOW="L",i.MEDIUM="M",i.QUARTILE="Q",i.HIGH="H",i))(tt||{});class O{static optimizeColorsForQRCode(t){var o,n;if(t.smartGradient===!1)return t;const r={...t};if((o=r.color)!=null&&o.dark){const e=this.getLuminance(r.color.dark),a=this.getLuminance("#ffffff");this.getContrastRatio(e,a)<4.5&&(r.color.dark=this.adjustColorForContrast(r.color.dark,a,4.5,!0))}if((n=r.color)!=null&&n.light){const e=this.getLuminance(r.color.light),a=this.getLuminance("#ffffff");this.getContrastRatio(e,a)>1.2&&(r.color.light=this.adjustColorForContrast(r.color.light,a,1.1,!1))}return r}static async generateQRCode(t,r={}){if(!t||t.trim()==="")throw new Error("Text cannot be empty");this.moduleDarkCache.clear();const n=this.optimizeColorsForQRCode({...this.defaultOptions,...r}),e=n.size||200,a=document.createElement("canvas");a.width=e,a.height=e;try{return await this.renderToCanvas(t,a,n),{dataURL:a.toDataURL("image/png"),options:n}}catch(c){throw new Error(`Failed to generate QR code: ${c instanceof Error?c.message:"Unknown error"}`)}}static async exportAsPNG(t,r={},o={}){const n=await this.generateQRCode(t,{...r});return this.downloadFile(n.dataURL,o.fileName||"qrcode.png")}static async exportAsSVG(t,r={},o={}){if(!t||t.trim()==="")throw new Error("Text cannot be empty");const n={...this.defaultOptions,...r},e={type:"svg",width:n.size||200,errorCorrectionLevel:n.errorCorrectionLevel||tt.MEDIUM,color:n.color||{dark:"#000000",light:"#ffffff"},margin:n.margin||4,scale:n.scale||4};try{const a=await J.toString(t,e);return o.fileName&&this.downloadFile(`data:image/svg+xml;charset=utf-8,${encodeURIComponent(a)}`,o.fileName||"qrcode.svg"),a}catch(a){throw new Error(`Failed to generate SVG QR code: ${a instanceof Error?a.message:"Unknown error"}`)}}static async getQRCodeDataURL(t,r={}){return(await this.generateQRCode(t,r)).dataURL}static downloadFile(t,r){const o=document.createElement("a");return o.href=t,o.download=r,o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o),t}static async renderToCanvas(t,r,o={}){if(!t||t.trim()==="")throw new Error("Text cannot be empty");if(!(r instanceof HTMLCanvasElement))throw new Error("Invalid canvas element");const n={...this.defaultOptions,...o},e={width:n.size||200,errorCorrectionLevel:n.errorCorrectionLevel||tt.MEDIUM,color:n.color||{dark:"#000000",light:"#ffffff"},margin:n.margin||4,scale:n.scale||4};try{if(await J.toCanvas(r,t,e),this.applyStyleCustomization(r,n),n.logo&&n.logo.src)try{await this.addLogoToCanvas(r,n.logo)}catch(a){console.warn("Failed to add logo to QR code:",a)}}catch(a){throw new Error(`Failed to render QR code to canvas: ${a instanceof Error?a.message:"Unknown error"}`)}}static applyStyleCustomization(t,r){const o=t.getContext("2d");if(!o)return;const n=t.width,e=t.height,a=document.createElement("canvas");a.width=n,a.height=e;const c=a.getContext("2d");c&&(c.drawImage(t,0,0),o.clearRect(0,0,n,e),this.drawBackground(o,n,e,r),this.applyComplexityEffects(o,a,r),r.shape==="rounded"||r.shape==="circle"||r.cornerRadius?this.processAndDrawCustomShapes(o,a,n,e,r):o.drawImage(a,0,0))}static drawBackground(t,r,o,n){var e,a,c;if((e=n.color)!=null&&e.gradient){const s=n.color.gradient.type==="radial"?t.createRadialGradient(r/2,o/2,0,r/2,o/2,r/2):t.createLinearGradient(0,0,r,o);(a=n.color.gradient.colors)==null||a.forEach((l,d)=>{var E,m,h;s.addColorStop(d/(((h=(m=(E=n.color)==null?void 0:E.gradient)==null?void 0:m.colors)==null?void 0:h.length)||0),l)}),t.fillStyle=s}else t.fillStyle=((c=n.color)==null?void 0:c.light)||"#ffffff";t.fillRect(0,0,r,o)}static applyComplexityEffects(t,r,o){const n=o.complexity||5,e=r.width,a=r.height;if(n<=2)t.imageSmoothingEnabled=!1,t.filter="contrast(120%) brightness(110%)";else if(n<=4)t.imageSmoothingEnabled=!0,t.filter="contrast(110%) brightness(105%)";else if(n<=6)t.imageSmoothingEnabled=!0,t.filter="none";else if(n<=8)t.imageSmoothingEnabled=!0,t.filter="contrast(105%) brightness(102%) sharpen(0.5)";else{t.imageSmoothingEnabled=!0,t.filter="contrast(102%) brightness(101%) sharpen(1)";const c=document.createElement("canvas");c.width=e,c.height=a;const s=c.getContext("2d");s&&(s.filter="blur(1px)",s.globalAlpha=.3,s.drawImage(r,2,2),t.globalAlpha=.1,t.drawImage(c,0,0),t.globalAlpha=1)}}static getLuminance(t){const r=this.hexToRgb(t);if(!r)return 0;const o=r.r/255,n=r.g/255,e=r.b/255,a=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4),c=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),s=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4);return .2126*a+.7152*c+.0722*s}static getContrastRatio(t,r){const o=Math.max(t,r),n=Math.min(t,r);return(o+.05)/(n+.05)}static hexToRgb(t){const r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null}static rgbToHex(t,r,o){return"#"+((1<<24)+(t<<16)+(r<<8)+o).toString(16).slice(1)}static adjustColorForContrast(t,r,o,n){const e=this.hexToRgb(t);if(!e)return n?"#000000":"#ffffff";let a=e.r,c=e.g,s=e.b;const l=n?.9:1.1;for(let d=0;d<20;d++){const E=this.getLuminance(this.rgbToHex(Math.round(a),Math.round(c),Math.round(s)));if(this.getContrastRatio(E,r)>=o)break;n?(a*=l,c*=l,s*=l,a=Math.max(0,a),c=Math.max(0,c),s=Math.max(0,s)):(a=Math.min(255,a/l),c=Math.min(255,c/l),s=Math.min(255,s/l))}return this.rgbToHex(Math.round(a),Math.round(c),Math.round(s))}static darkenColor(t,r){const o=this.hexToRgb(t);return o?this.rgbToHex(Math.round(o.r*(1-r)),Math.round(o.g*(1-r)),Math.round(o.b*(1-r))):t}static processAndDrawCustomShapes(t,r,o,n,e){var L,B,k;const a=r.getContext("2d");if(!a)return;const s=a.getImageData(0,0,o,n).data,l=Math.max(1,Math.ceil(o/40)),d=Math.min(l,Math.ceil(n/40)),E=e.moduleSize||100,m=e.moduleSpacing||0,h=d*(E/100),v=(d-h)/2+m/2,I=e.shape||"square",S=((L=e.color)==null?void 0:L.dark)||"#000000",y=e.cornerRadius,C=(B=e.color)!=null&&B.gradient?{colors:e.color.gradient.colors||[]}:void 0,p=e.randomness,f=[];let b=0;for(let R=0;R<n;R+=d)for(let T=0;T<o;T+=d)this.isModuleDark(s,T,R,o,n,d)&&f.push({x:T,y:R,index:b++});(k=e.animation)!=null&&k.enabled?this.drawWithAnimation(t,f,I,h,v,S,y,C,p,e.animation):f.length>0&&(C&&C.colors.length>0?f.forEach(R=>{const T=R.x+v,A=R.y+v;this.drawCustomShapeOptimized(t,I,T,A,h,S,y,C,p)}):(t.save(),t.fillStyle=S,this.batchDrawShapes(t,I,f,v,h,y),t.restore()))}static drawCustomShape(t,r,o,n,e,a,c,s,l){if(t.save(),l&&l>0){const d=(Math.random()-.5)*l,E=(Math.random()-.5)*l*.1;t.translate(o+e/2+d,n+e/2+d),t.rotate(E),t.translate(-e/2,-e/2)}else t.translate(o,n);if(s&&s.colors.length>0){const d=t.createLinearGradient(0,0,e,e);s.colors.forEach((E,m)=>{d.addColorStop(m/(s.colors.length-1),E)}),t.fillStyle=d}else t.fillStyle=a;switch(r){case"circle":t.beginPath(),t.arc(e/2,e/2,e/2,0,2*Math.PI),t.fill();break;case"rounded":const d=c||e*.2;t.beginPath(),t.roundRect(0,0,e,e,d),t.fill();break;case"star":const E=e/2,m=e/2,h=e*.4,v=e*.2;this.drawStar(t,E,m,h,v,5),t.fill();break;case"hexagon":const I=e/2,S=e/2,y=e*.4;this.drawHexagon(t,I,S,y),t.fill();break;case"diamond":t.beginPath(),t.moveTo(e/2,0),t.lineTo(e,e/2),t.lineTo(e/2,e),t.lineTo(0,e/2),t.closePath(),t.fill();break;case"triangle":t.beginPath(),t.moveTo(e/2,0),t.lineTo(e,e),t.lineTo(0,e),t.closePath(),t.fill();break;default:t.fillRect(0,0,e,e);break}t.restore()}static batchDrawShapes(t,r,o,n,e,a){switch(r){case"square":t.beginPath(),o.forEach(c=>{const s=c.x+n,l=c.y+n;t.rect(s,l,e,e)}),t.fill();break;case"circle":t.beginPath(),o.forEach(c=>{const s=c.x+n+e/2,l=c.y+n+e/2;t.moveTo(s+e/2,l),t.arc(s,l,e/2,0,2*Math.PI)}),t.fill();break;default:o.forEach(c=>{const s=c.x+n,l=c.y+n;this.drawCustomShape(t,r,s,l,e,t.fillStyle,a)});break}}static drawCustomShapeOptimized(t,r,o,n,e,a,c,s,l){if(t.save(),l&&l>0){const d=(Math.random()-.5)*l,E=(Math.random()-.5)*l*.1;t.translate(o+e/2+d,n+e/2+d),t.rotate(E),t.translate(-e/2,-e/2)}else t.translate(o,n);if(s&&s.colors.length>0){const d=t.createLinearGradient(0,0,e,e);s.colors.forEach((E,m)=>{d.addColorStop(m/(s.colors.length-1),E)}),t.fillStyle=d}switch(r){case"circle":t.beginPath(),t.arc(e/2,e/2,e/2,0,2*Math.PI),t.fill();break;case"rounded":const d=c||e*.2;t.beginPath(),t.roundRect(0,0,e,e,d),t.fill();break;case"star":const E=e/2,m=e/2,h=e*.4,v=e*.2;this.drawStar(t,E,m,h,v,5),t.fill();break;case"hexagon":const I=e/2,S=e/2,y=e*.4;this.drawHexagon(t,I,S,y),t.fill();break;case"diamond":t.beginPath(),t.moveTo(e/2,0),t.lineTo(e,e/2),t.lineTo(e/2,e),t.lineTo(0,e/2),t.closePath(),t.fill();break;case"triangle":t.beginPath(),t.moveTo(e/2,0),t.lineTo(e,e),t.lineTo(0,e),t.closePath(),t.fill();break;default:t.fillRect(0,0,e,e);break}t.restore()}static isModuleDark(t,r,o,n,e,a){const c=`${r}-${o}-${a}`;if(this.moduleDarkCache.has(c))return this.moduleDarkCache.get(c);const s=Math.min(r+Math.floor(a*.5),n-1),d=(Math.min(o+Math.floor(a*.5),e-1)*n+s)*4,E=t[d],m=t[d+1],h=t[d+2],I=.299*E+.587*m+.114*h<128;return this.moduleDarkCache.set(c,I),I}static drawStar(t,r,o,n,e,a){const c=Math.PI/a;t.beginPath();for(let s=0;s<2*a;s++){const l=s%2===0?n:e,d=r+Math.cos(s*c-Math.PI/2)*l,E=o+Math.sin(s*c-Math.PI/2)*l;s===0?t.moveTo(d,E):t.lineTo(d,E)}t.closePath()}static drawHexagon(t,r,o,n){const e=Math.PI/3;t.beginPath();for(let a=0;a<6;a++){const c=r+Math.cos(a*e-Math.PI/2)*n,s=o+Math.sin(a*e-Math.PI/2)*n;a===0?t.moveTo(c,s):t.lineTo(c,s)}t.closePath()}static drawWithAnimation(t,r,o,n,e,a,c,s,l,d){const E=d||{},m=E.type||"fade",h=E.duration||1e3,v=E.delay||0,I=E.stagger||50,S=E.direction||"forward";let y=[...r];if(S==="reverse")y.reverse();else if(S==="alternate"){const C=new Map;r.forEach(p=>{const f=Math.floor(p.y/n);C.has(f)||C.set(f,[]),C.get(f).push(p)}),y=[],Array.from(C.entries()).sort(([p],[f])=>p-f).forEach(([p,f])=>{p%2===0?y.push(...f):y.push(...f.reverse())})}y.forEach((C,p)=>{const f=C.x+e,b=C.y+e;t.save();const L=Math.min(1,Math.max(0,(Date.now()-v-p*I)/h)),B=this.easeInOutCubic(L);switch(m){case"fade":t.globalAlpha=B;break;case"scale":const k=B;t.translate(f+n/2,b+n/2),t.scale(k,k),t.translate(-n/2,-n/2);break;case"rotate":const R=B*Math.PI*2;t.translate(f+n/2,b+n/2),t.rotate(R),t.translate(-n/2,-n/2);break;case"bounce":const T=B<.5?B*2:2-B*2;t.translate(f+n/2,b+n/2),t.scale(T,T),t.translate(-n/2,-n/2);break;case"pulse":const A=.5+B*.5;t.translate(f+n/2,b+n/2),t.scale(A,A),t.translate(-n/2,-n/2);break}s&&s.colors.length>0?this.drawCustomShapeOptimized(t,o,0,0,n,a,c,s,l):this.drawCustomShape(t,o,0,0,n,a,c,void 0,l),t.restore()})}static easeInOutCubic(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}static async addLogoToCanvas(t,r){return new Promise((o,n)=>{const e=t.getContext("2d");if(!e){n(new Error("Failed to get canvas context"));return}const a=new Image;a.crossOrigin="anonymous",a.onload=()=>{try{const c=t.width,s=r.size||c*.2,l=(c-s)/2,d=(c-s)/2;e.fillStyle="#ffffff",e.fillRect(l-5,d-5,s+10,s+10),e.drawImage(a,l,d,s,s),o()}catch(c){n(c)}},a.onerror=()=>{n(new Error("Failed to load logo image"))},a.src=r.src})}}Rt(O,"defaultOptions",{size:200,errorCorrectionLevel:tt.MEDIUM,color:{dark:"#000000",light:"#ffffff"},margin:4,scale:4}),Rt(O,"moduleDarkCache",new Map);function Hn(){const i=document.getElementById("text-input"),t=document.getElementById("generate-btn"),r=document.getElementById("clear-btn"),o=document.getElementById("qrcode-png"),n=document.getElementById("qrcode-svg"),e=document.getElementById("qrcode-canvas"),a=document.getElementById("export-btn"),c=document.getElementById("export-format"),s=document.querySelectorAll(".data-type-tab"),l=document.getElementById("text-input-section"),d=document.getElementById("contact-input-section"),E=document.getElementById("wifi-input-section"),m=document.getElementById("email-input-section"),h=document.getElementById("sms-input-section"),v=document.getElementById("phone-input-section"),I=document.getElementById("location-input-section"),S=document.getElementById("contact-name"),y=document.getElementById("contact-phone"),C=document.getElementById("contact-email"),p=document.getElementById("contact-company"),f=document.getElementById("wifi-ssid"),b=document.getElementById("wifi-password"),L=document.getElementById("wifi-type"),B=document.getElementById("email-address"),k=document.getElementById("email-subject"),R=document.getElementById("email-body"),T=document.getElementById("sms-phone"),A=document.getElementById("sms-message"),V=document.getElementById("phone-number"),N=document.getElementById("location-latitude"),wt=document.getElementById("location-longitude"),Z=document.getElementById("size-slider"),jt=document.getElementById("size-value"),ot=document.getElementById("margin-slider"),Jt=document.getElementById("margin-value"),Ct=document.getElementById("dark-color"),vt=document.getElementById("light-color"),It=document.getElementById("error-correction"),bt=document.getElementById("shape-select"),rt=document.getElementById("corner-radius-slider"),Kt=document.getElementById("corner-radius-value"),Bt=document.getElementById("module-size-slider"),Qt=document.getElementById("module-size-value"),St=document.getElementById("module-spacing-slider"),Xt=document.getElementById("module-spacing-value"),Lt=document.getElementById("randomness-slider"),Wt=document.getElementById("randomness-value"),Mt=document.getElementById("smart-gradient"),z=document.getElementById("gradient-type"),it=document.getElementById("gradient-colors"),Y=document.getElementById("gradient-color-list"),ke=document.getElementById("add-gradient-color"),Ae=document.getElementById("remove-gradient-color"),at=document.getElementById("complexity-slider"),Zt=document.getElementById("complexity-value"),Pe=document.getElementById("complexity-desc"),zt=document.getElementById("logo-upload"),j=document.getElementById("logo-preview"),Tt=document.getElementById("remove-logo"),Ne=document.getElementById("clear-history-btn"),$t=document.getElementById("history-list"),xt=document.querySelectorAll(".tab-btn");let te="png",st="text",_={size:200,margin:4,color:{dark:"#000000",light:"#ffffff"},errorCorrectionLevel:tt.MEDIUM,complexity:5,moduleSize:100,moduleSpacing:0,randomness:0,smartGradient:!0};function De(){t.disabled=!0,t.innerHTML=`
      <div class="spinner" style="width: 16px; height: 16px; border-width: 2px;"></div>
      生成中...
    `}function Ue(w,g,u,M){const U={id:Date.now().toString()+Math.random().toString(36).substr(2,9),data:w,dataType:g,dataURL:u,config:M,timestamp:Date.now()},F=ct();F.unshift(U),F.length>50&&F.pop(),localStorage.setItem("qrcode-history",JSON.stringify(F)),lt()}function ct(){const w=localStorage.getItem("qrcode-history");return w?JSON.parse(w):[]}function lt(){const w=ct();if(w.length===0){$t.innerHTML='<p style="text-align: center; color: var(--text-secondary); grid-column: 1 / -1;">暂无历史记录</p>';return}$t.innerHTML=w.map(g=>`
      <div class="history-item">
        <img src="${g.dataURL}" alt="二维码历史记录">
        <div class="history-item-info">${g.data.substring(0,20)}${g.data.length>20?"...":""}</div>
        <div class="history-item-date">${new Date(g.timestamp).toLocaleString()}</div>
        <div class="history-item-actions">
          <button class="btn-view" onclick="viewHistoryItem('${g.id}')">查看</button>
          <button class="btn-delete" onclick="deleteHistoryItem('${g.id}')">删除</button>
        </div>
      </div>
    `).join("")}function Fe(){confirm("确定要清除所有历史记录吗？")&&(localStorage.removeItem("qrcode-history"),lt())}function _e(w){const u=ct().filter(M=>M.id!==w);localStorage.setItem("qrcode-history",JSON.stringify(u)),lt()}function He(w){var M,U,F,dt,$,ae,se,ce;const u=ct().find(le=>le.id===w);if(u){switch(_=u.config,st=u.dataType,Z.value=u.config.size.toString(),jt.textContent=u.config.size.toString(),ot.value=u.config.margin.toString(),Jt.textContent=u.config.margin.toString(),Ct.value=u.config.color.dark,vt.value=u.config.color.light,It.value=u.config.errorCorrectionLevel,bt.value=u.config.shape||"square",rt.value=((M=u.config.cornerRadius)==null?void 0:M.toString())||"4",Kt.textContent=((U=u.config.cornerRadius)==null?void 0:U.toString())||"4",Bt.value=((F=u.config.moduleSize)==null?void 0:F.toString())||"100",Qt.textContent=((dt=u.config.moduleSize)==null?void 0:dt.toString())||"100",St.value=(($=u.config.moduleSpacing)==null?void 0:$.toString())||"0",Xt.textContent=((ae=u.config.moduleSpacing)==null?void 0:ae.toString())||"0",at.value=((se=u.config.complexity)==null?void 0:se.toString())||"5",Zt.textContent=((ce=u.config.complexity)==null?void 0:ce.toString())||"5",ne(u.config.complexity||5),u.config.randomness!==void 0&&(Lt.value=u.config.randomness.toString(),Wt.textContent=u.config.randomness.toString()),u.config.smartGradient!==void 0&&(Mt.checked=u.config.smartGradient),u.config.color.gradient?(z.value=u.config.color.gradient.type,it.style.display="block",document.querySelectorAll(".gradient-color-input").forEach((Qe,de)=>{u.config.color.gradient.colors[de]&&(Qe.value=u.config.color.gradient.colors[de])})):(z.value="none",it.style.display="none"),re(u.dataType),u.dataType){case"text":i.value=u.data;break}P()}}window.viewHistoryItem=He,window.deleteHistoryItem=_e;function Oe(){t.disabled=!1,t.innerHTML=`
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
        <circle cx="8.5" cy="8.5" r="1.5"></circle>
        <path d="M21 15l-5-5L5 21"></path>
      </svg>
      生成二维码
    `}function ee(){switch(o.style.display="none",n.style.display="none",e.style.display="none",te){case"png":o.style.display="block";break;case"svg":n.style.display="block";break;case"canvas":e.style.display="block";break}}function ne(w){const g={1:"极简模式 - 最基础的二维码",2:"简单模式 - 基本功能",3:"简洁模式 - 轻量级设计",4:"标准模式 - 平衡性能",5:"标准复杂度 - 推荐设置",6:"增强模式 - 更多细节",7:"复杂模式 - 丰富样式",8:"高级模式 - 精细设计",9:"专业模式 - 复杂样式",10:"极致模式 - 最高复杂度"};Pe.textContent=g[w]||"标准复杂度"}function oe(){switch(st){case"text":return i.value.trim();case"contact":let w=`BEGIN:VCARD
VERSION:3.0
`;return S.value.trim()&&(w+=`FN:${S.value.trim()}
`),y.value.trim()&&(w+=`TEL:${y.value.trim()}
`),C.value.trim()&&(w+=`EMAIL:${C.value.trim()}
`),p.value.trim()&&(w+=`ORG:${p.value.trim()}
`),w+="END:VCARD",w;case"wifi":let g=`WIFI:T:${L.value};S:${f.value.trim()};`;return b.value.trim()&&(g+=`P:${b.value.trim()};`),g+=";",g;case"email":let u=`mailto:${B.value.trim()}`,M=[];return k.value.trim()&&M.push(`subject=${encodeURIComponent(k.value.trim())}`),R.value.trim()&&M.push(`body=${encodeURIComponent(R.value.trim())}`),M.length>0&&(u+=`?${M.join("&")}`),u;case"sms":let U=`sms:${T.value.trim()}`;return A.value.trim()&&(U+=`?body=${encodeURIComponent(A.value.trim())}`),U;case"phone":return`tel:${V.value.trim()}`;case"location":return`geo:${N.value.trim()},${wt.value.trim()}`;default:return i.value.trim()}}async function P(){const w=oe();if(!w){alert("请输入数据");return}De();try{const g=document.querySelectorAll(".gradient-color-input"),u=Array.from(g).map(F=>F.value);_={size:parseInt(Z.value),margin:parseInt(ot.value),color:{dark:Ct.value,light:vt.value,gradient:z.value!=="none"?{type:z.value,colors:u}:void 0},errorCorrectionLevel:It.value,logo:j.src?{src:j.src,size:parseInt(Z.value)*.2}:void 0,shape:bt.value,cornerRadius:parseInt(rt.value),complexity:parseInt(at.value),moduleSize:parseInt(Bt.value),moduleSpacing:parseInt(St.value),randomness:parseInt(Lt.value),smartGradient:Mt.checked};const M=await O.generateQRCode(w,_);o.src=M.dataURL;const U=await O.exportAsSVG(w,_);n.innerHTML=U,await O.renderToCanvas(w,e,_),ee(),Ue(w,st,M.dataURL,_)}catch(g){console.error("生成二维码失败:",g),alert("生成二维码失败: "+(g instanceof Error?g.message:"未知错误"))}finally{Oe()}}async function Ve(){const w=oe();if(!w){alert("请输入数据");return}try{switch(c.value){case"png":await O.exportAsPNG(w,_,{fileName:"qrcode.png"});break;case"jpg":await O.renderToCanvas(w,e,_);const u=e.toDataURL("image/jpeg",.9);Ge(u,"qrcode.jpg");break;case"svg":await O.exportAsSVG(w,_,{fileName:"qrcode.svg"});break;default:await O.exportAsPNG(w,_,{fileName:"qrcode.png"})}}catch(g){console.error("导出二维码失败:",g),alert("导出二维码失败: "+(g instanceof Error?g.message:"未知错误"))}}function Ge(w,g){const u=document.createElement("a");u.href=w,u.download=g,u.style.display="none",document.body.appendChild(u),u.click(),document.body.removeChild(u)}function qe(){var w;i.value="",S.value="",y.value="",C.value="",p.value="",f.value="",b.value="",L.value="WPA",B.value="",k.value="",R.value="",T.value="",A.value="",V.value="",N.value="",wt.value="",o.src="",n.innerHTML="",(w=e.getContext("2d"))==null||w.clearRect(0,0,e.width,e.height),ie()}function re(w){st=w,s.forEach(g=>{g.classList.remove("active"),g.dataset.type===w&&g.classList.add("active")}),l.style.display=w==="text"?"block":"none",d.style.display=w==="contact"?"block":"none",E.style.display=w==="wifi"?"block":"none",m.style.display=w==="email"?"block":"none",h.style.display=w==="sms"?"block":"none",v.style.display=w==="phone"?"block":"none",I.style.display=w==="location"?"block":"none",P()}function Ye(w){var M;const u=(M=w.target.files)==null?void 0:M[0];if(u){const U=new FileReader;U.onload=F=>{var $;const dt=($=F.target)==null?void 0:$.result;j.src=dt,j.style.display="block",Tt.style.display="inline-block"},U.readAsDataURL(u)}}function ie(){j.src="",j.style.display="none",Tt.style.display="none",zt.value=""}function je(w){te=w,xt.forEach(g=>{g.classList.remove("active"),g.dataset.tab===w&&g.classList.add("active")}),ee()}function Je(){t.addEventListener("click",P),r.addEventListener("click",qe),a.addEventListener("click",Ve),xt.forEach(u=>{u.addEventListener("click",()=>{je(u.dataset.tab||"png")})}),Z.addEventListener("input",u=>{const M=u.target.value;jt.textContent=M}),ot.addEventListener("input",u=>{const M=u.target.value;Jt.textContent=M}),at.addEventListener("input",u=>{const M=u.target.value;Zt.textContent=M,ne(parseInt(M))}),at.addEventListener("change",g),s.forEach(u=>{u.addEventListener("click",()=>{re(u.dataset.type||"text")})}),zt.addEventListener("change",Ye),Tt.addEventListener("click",ie);let w;function g(){clearTimeout(w),w=setTimeout(P,500)}i.addEventListener("input",g),S.addEventListener("input",g),y.addEventListener("input",g),C.addEventListener("input",g),p.addEventListener("input",g),f.addEventListener("input",g),b.addEventListener("input",g),L.addEventListener("change",g),B.addEventListener("input",g),k.addEventListener("input",g),R.addEventListener("input",g),T.addEventListener("input",g),A.addEventListener("input",g),V.addEventListener("input",g),N.addEventListener("input",g),wt.addEventListener("input",g),Z.addEventListener("change",g),ot.addEventListener("change",g),Ct.addEventListener("change",g),vt.addEventListener("change",g),It.addEventListener("change",g),bt.addEventListener("change",g),rt.addEventListener("input",u=>{const M=u.target.value;Kt.textContent=M,P()}),rt.addEventListener("change",g),Bt.addEventListener("input",u=>{Qt.textContent=u.target.value,P()}),St.addEventListener("input",u=>{Xt.textContent=u.target.value,P()}),Lt.addEventListener("input",u=>{Wt.textContent=u.target.value,P()}),Mt.addEventListener("change",()=>{P()}),z.addEventListener("change",u=>{u.target.value==="none"?it.style.display="none":it.style.display="block",g()}),Y.addEventListener("input",u=>{u.target.classList.contains("gradient-color-input")&&g()}),ke.addEventListener("click",()=>{const u=Y.children.length,M=document.createElement("div");M.className="color-picker",M.innerHTML=`
        <span>颜色 ${u+1}:</span>
        <input 
          type="color" 
          class="gradient-color-input" 
          value="#${Math.floor(Math.random()*16777215).toString(16)}"
        >
      `,Y.appendChild(M),g()}),Ae.addEventListener("click",()=>{Y.children.length>2&&(Y.removeChild(Y.lastElementChild),g())}),i.addEventListener("keypress",u=>{u.key==="Enter"&&P()}),B.addEventListener("keypress",u=>{u.key==="Enter"&&P()}),T.addEventListener("keypress",u=>{u.key==="Enter"&&P()}),V.addEventListener("keypress",u=>{u.key==="Enter"&&P()}),Ne.addEventListener("click",Fe)}function Ke(){Je(),lt(),P()}Ke()}document.addEventListener("DOMContentLoaded",Hn);
//# sourceMappingURL=main-DcalF-dY.js.map
