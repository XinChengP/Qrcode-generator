var Ne=Object.defineProperty;var Pe=(n,t,i)=>t in n?Ne(n,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[t]=i;var xt=(n,t,i)=>Pe(n,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function i(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=i(e);fetch(e.href,o)}})();var K={},ke=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},$t={},P={};let kt;const De=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];P.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};P.getSymbolTotalCodewords=function(t){return De[t]};P.getBCHDigit=function(n){let t=0;for(;n!==0;)t++,n>>>=1;return t};P.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');kt=t};P.isKanjiModeEnabled=function(){return typeof kt<"u"};P.toSJIS=function(t){return kt(t)};var gt={};(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function t(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+i)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,e){if(n.isValid(r))return r;try{return t(r)}catch{return e}}})(gt);function te(){this.buffer=[],this.length=0}te.prototype={get:function(n){const t=Math.floor(n/8);return(this.buffer[t]>>>7-n%8&1)===1},put:function(n,t){for(let i=0;i<t;i++)this.putBit((n>>>t-i-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),n&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Ue=te;function nt(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}nt.prototype.set=function(n,t,i,r){const e=n*this.size+t;this.data[e]=i,r&&(this.reservedBit[e]=!0)};nt.prototype.get=function(n,t){return this.data[n*this.size+t]};nt.prototype.xor=function(n,t,i){this.data[n*this.size+t]^=i};nt.prototype.isReserved=function(n,t){return this.reservedBit[n*this.size+t]};var Fe=nt,ee={};(function(n){const t=P.getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const e=Math.floor(r/7)+2,o=t(r),s=o===145?26:Math.ceil((o-13)/(2*e-2))*2,c=[o-7];for(let a=1;a<e-1;a++)c[a]=c[a-1]-s;return c.push(6),c.reverse()},n.getPositions=function(r){const e=[],o=n.getRowColCoords(r),s=o.length;for(let c=0;c<s;c++)for(let a=0;a<s;a++)c===0&&a===0||c===0&&a===s-1||c===s-1&&a===0||e.push([o[c],o[a]]);return e}})(ee);var ne={};const _e=P.getSymbolSize,Wt=7;ne.getPositions=function(t){const i=_e(t);return[[0,0],[i-Wt,0],[0,i-Wt]]};var oe={};(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};n.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7},n.from=function(e){return n.isValid(e)?parseInt(e,10):void 0},n.getPenaltyN1=function(e){const o=e.size;let s=0,c=0,a=0,l=null,d=null;for(let I=0;I<o;I++){c=a=0,l=d=null;for(let y=0;y<o;y++){let g=e.get(I,y);g===l?c++:(c>=5&&(s+=t.N1+(c-5)),l=g,c=1),g=e.get(y,I),g===d?a++:(a>=5&&(s+=t.N1+(a-5)),d=g,a=1)}c>=5&&(s+=t.N1+(c-5)),a>=5&&(s+=t.N1+(a-5))}return s},n.getPenaltyN2=function(e){const o=e.size;let s=0;for(let c=0;c<o-1;c++)for(let a=0;a<o-1;a++){const l=e.get(c,a)+e.get(c,a+1)+e.get(c+1,a)+e.get(c+1,a+1);(l===4||l===0)&&s++}return s*t.N2},n.getPenaltyN3=function(e){const o=e.size;let s=0,c=0,a=0;for(let l=0;l<o;l++){c=a=0;for(let d=0;d<o;d++)c=c<<1&2047|e.get(l,d),d>=10&&(c===1488||c===93)&&s++,a=a<<1&2047|e.get(d,l),d>=10&&(a===1488||a===93)&&s++}return s*t.N3},n.getPenaltyN4=function(e){let o=0;const s=e.data.length;for(let a=0;a<s;a++)o+=e.data[a];return Math.abs(Math.ceil(o*100/s/5)-10)*t.N4};function i(r,e,o){switch(r){case n.Patterns.PATTERN000:return(e+o)%2===0;case n.Patterns.PATTERN001:return e%2===0;case n.Patterns.PATTERN010:return o%3===0;case n.Patterns.PATTERN011:return(e+o)%3===0;case n.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(o/3))%2===0;case n.Patterns.PATTERN101:return e*o%2+e*o%3===0;case n.Patterns.PATTERN110:return(e*o%2+e*o%3)%2===0;case n.Patterns.PATTERN111:return(e*o%3+(e+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(e,o){const s=o.size;for(let c=0;c<s;c++)for(let a=0;a<s;a++)o.isReserved(a,c)||o.xor(a,c,i(e,a,c))},n.getBestMask=function(e,o){const s=Object.keys(n.Patterns).length;let c=0,a=1/0;for(let l=0;l<s;l++){o(l),n.applyMask(l,e);const d=n.getPenaltyN1(e)+n.getPenaltyN2(e)+n.getPenaltyN3(e)+n.getPenaltyN4(e);n.applyMask(l,e),d<a&&(a=d,c=l)}return c}})(oe);var ht={};const V=gt,lt=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],dt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ht.getBlocksCount=function(t,i){switch(i){case V.L:return lt[(t-1)*4+0];case V.M:return lt[(t-1)*4+1];case V.Q:return lt[(t-1)*4+2];case V.H:return lt[(t-1)*4+3];default:return}};ht.getTotalCodewordsCount=function(t,i){switch(i){case V.L:return dt[(t-1)*4+0];case V.M:return dt[(t-1)*4+1];case V.Q:return dt[(t-1)*4+2];case V.H:return dt[(t-1)*4+3];default:return}};var re={},mt={};const $=new Uint8Array(512),ut=new Uint8Array(256);(function(){let t=1;for(let i=0;i<255;i++)$[i]=t,ut[t]=i,t<<=1,t&256&&(t^=285);for(let i=255;i<512;i++)$[i]=$[i-255]})();mt.log=function(t){if(t<1)throw new Error("log("+t+")");return ut[t]};mt.exp=function(t){return $[t]};mt.mul=function(t,i){return t===0||i===0?0:$[ut[t]+ut[i]]};(function(n){const t=mt;n.mul=function(r,e){const o=new Uint8Array(r.length+e.length-1);for(let s=0;s<r.length;s++)for(let c=0;c<e.length;c++)o[s+c]^=t.mul(r[s],e[c]);return o},n.mod=function(r,e){let o=new Uint8Array(r);for(;o.length-e.length>=0;){const s=o[0];for(let a=0;a<e.length;a++)o[a]^=t.mul(e[a],s);let c=0;for(;c<o.length&&o[c]===0;)c++;o=o.slice(c)}return o},n.generateECPolynomial=function(r){let e=new Uint8Array([1]);for(let o=0;o<r;o++)e=n.mul(e,new Uint8Array([1,t.exp(o)]));return e}})(re);const ie=re;function Dt(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}Dt.prototype.initialize=function(t){this.degree=t,this.genPoly=ie.generateECPolynomial(this.degree)};Dt.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(t.length+this.degree);i.set(t);const r=ie.mod(i,this.genPoly),e=this.degree-r.length;if(e>0){const o=new Uint8Array(this.degree);return o.set(r,e),o}return r};var ze=Dt,se={},q={},Ut={};Ut.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var _={};const ae="[0-9]+",He="[A-Z $%*+\\-./:]+";let et="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";et=et.replace(/u/g,"\\u");const Oe="(?:(?![A-Z0-9 $%*+\\-./:]|"+et+`)(?:.|[\r
]))+`;_.KANJI=new RegExp(et,"g");_.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");_.BYTE=new RegExp(Oe,"g");_.NUMERIC=new RegExp(ae,"g");_.ALPHANUMERIC=new RegExp(He,"g");const Ve=new RegExp("^"+et+"$"),qe=new RegExp("^"+ae+"$"),Ge=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");_.testKanji=function(t){return Ve.test(t)};_.testNumeric=function(t){return qe.test(t)};_.testAlphanumeric=function(t){return Ge.test(t)};(function(n){const t=Ut,i=_;n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(o,s){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!t.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?o.ccBits[0]:s<27?o.ccBits[1]:o.ccBits[2]},n.getBestModeForData=function(o){return i.testNumeric(o)?n.NUMERIC:i.testAlphanumeric(o)?n.ALPHANUMERIC:i.testKanji(o)?n.KANJI:n.BYTE},n.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},n.isValid=function(o){return o&&o.bit&&o.ccBits};function r(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+e)}}n.from=function(o,s){if(n.isValid(o))return o;try{return r(o)}catch{return s}}})(q);(function(n){const t=P,i=ht,r=gt,e=q,o=Ut,s=7973,c=t.getBCHDigit(s);function a(y,g,w){for(let v=1;v<=40;v++)if(g<=n.getCapacity(v,w,y))return v}function l(y,g){return e.getCharCountIndicator(y,g)+4}function d(y,g){let w=0;return y.forEach(function(v){const L=l(v.mode,g);w+=L+v.getBitsLength()}),w}function I(y,g){for(let w=1;w<=40;w++)if(d(y,w)<=n.getCapacity(w,g,e.MIXED))return w}n.from=function(g,w){return o.isValid(g)?parseInt(g,10):w},n.getCapacity=function(g,w,v){if(!o.isValid(g))throw new Error("Invalid QR Code version");typeof v>"u"&&(v=e.BYTE);const L=t.getSymbolTotalCodewords(g),m=i.getTotalCodewordsCount(g,w),C=(L-m)*8;if(v===e.MIXED)return C;const p=C-l(v,g);switch(v){case e.NUMERIC:return Math.floor(p/10*3);case e.ALPHANUMERIC:return Math.floor(p/11*2);case e.KANJI:return Math.floor(p/13);case e.BYTE:default:return Math.floor(p/8)}},n.getBestVersionForData=function(g,w){let v;const L=r.from(w,r.M);if(Array.isArray(g)){if(g.length>1)return I(g,L);if(g.length===0)return 1;v=g[0]}else v=g;return a(v.mode,v.getLength(),L)},n.getEncodedBits=function(g){if(!o.isValid(g)||g<7)throw new Error("Invalid QR Code version");let w=g<<12;for(;t.getBCHDigit(w)-c>=0;)w^=s<<t.getBCHDigit(w)-c;return g<<12|w}})(se);var ce={};const At=P,le=1335,Je=21522,Xt=At.getBCHDigit(le);ce.getEncodedBits=function(t,i){const r=t.bit<<3|i;let e=r<<10;for(;At.getBCHDigit(e)-Xt>=0;)e^=le<<At.getBCHDigit(e)-Xt;return(r<<10|e)^Je};var de={};const Ke=q;function j(n){this.mode=Ke.NUMERIC,this.data=n.toString()}j.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};j.prototype.getLength=function(){return this.data.length};j.prototype.getBitsLength=function(){return j.getBitsLength(this.data.length)};j.prototype.write=function(t){let i,r,e;for(i=0;i+3<=this.data.length;i+=3)r=this.data.substr(i,3),e=parseInt(r,10),t.put(e,10);const o=this.data.length-i;o>0&&(r=this.data.substr(i),e=parseInt(r,10),t.put(e,o*3+1))};var je=j;const Qe=q,Lt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Q(n){this.mode=Qe.ALPHANUMERIC,this.data=n}Q.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Q.prototype.getLength=function(){return this.data.length};Q.prototype.getBitsLength=function(){return Q.getBitsLength(this.data.length)};Q.prototype.write=function(t){let i;for(i=0;i+2<=this.data.length;i+=2){let r=Lt.indexOf(this.data[i])*45;r+=Lt.indexOf(this.data[i+1]),t.put(r,11)}this.data.length%2&&t.put(Lt.indexOf(this.data[i]),6)};var Ye=Q;const xe=q;function Y(n){this.mode=xe.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}Y.getBitsLength=function(t){return t*8};Y.prototype.getLength=function(){return this.data.length};Y.prototype.getBitsLength=function(){return Y.getBitsLength(this.data.length)};Y.prototype.write=function(n){for(let t=0,i=this.data.length;t<i;t++)n.put(this.data[t],8)};var We=Y;const Xe=q,Ze=P;function x(n){this.mode=Xe.KANJI,this.data=n}x.getBitsLength=function(t){return t*13};x.prototype.getLength=function(){return this.data.length};x.prototype.getBitsLength=function(){return x.getBitsLength(this.data.length)};x.prototype.write=function(n){let t;for(t=0;t<this.data.length;t++){let i=Ze.toSJIS(this.data[t]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),n.put(i,13)}};var $e=x,ue={exports:{}};(function(n){var t={single_source_shortest_paths:function(i,r,e){var o={},s={};s[r]=0;var c=t.PriorityQueue.make();c.push(r,0);for(var a,l,d,I,y,g,w,v,L;!c.empty();){a=c.pop(),l=a.value,I=a.cost,y=i[l]||{};for(d in y)y.hasOwnProperty(d)&&(g=y[d],w=I+g,v=s[d],L=typeof s[d]>"u",(L||v>w)&&(s[d]=w,c.push(d,w),o[d]=l))}if(typeof e<"u"&&typeof s[e]>"u"){var m=["Could not find a path from ",r," to ",e,"."].join("");throw new Error(m)}return o},extract_shortest_path_from_predecessor_list:function(i,r){for(var e=[],o=r;o;)e.push(o),i[o],o=i[o];return e.reverse(),e},find_path:function(i,r,e){var o=t.single_source_shortest_paths(i,r,e);return t.extract_shortest_path_from_predecessor_list(o,e)},PriorityQueue:{make:function(i){var r=t.PriorityQueue,e={},o;i=i||{};for(o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);return e.queue=[],e.sorter=i.sorter||r.default_sorter,e},default_sorter:function(i,r){return i.cost-r.cost},push:function(i,r){var e={value:i,cost:r};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=t})(ue);var tn=ue.exports;(function(n){const t=q,i=je,r=Ye,e=We,o=$e,s=_,c=P,a=tn;function l(m){return unescape(encodeURIComponent(m)).length}function d(m,C,p){const E=[];let B;for(;(B=m.exec(p))!==null;)E.push({data:B[0],index:B.index,mode:C,length:B[0].length});return E}function I(m){const C=d(s.NUMERIC,t.NUMERIC,m),p=d(s.ALPHANUMERIC,t.ALPHANUMERIC,m);let E,B;return c.isKanjiModeEnabled()?(E=d(s.BYTE,t.BYTE,m),B=d(s.KANJI,t.KANJI,m)):(E=d(s.BYTE_KANJI,t.BYTE,m),B=[]),C.concat(p,E,B).sort(function(T,M){return T.index-M.index}).map(function(T){return{data:T.data,mode:T.mode,length:T.length}})}function y(m,C){switch(C){case t.NUMERIC:return i.getBitsLength(m);case t.ALPHANUMERIC:return r.getBitsLength(m);case t.KANJI:return o.getBitsLength(m);case t.BYTE:return e.getBitsLength(m)}}function g(m){return m.reduce(function(C,p){const E=C.length-1>=0?C[C.length-1]:null;return E&&E.mode===p.mode?(C[C.length-1].data+=p.data,C):(C.push(p),C)},[])}function w(m){const C=[];for(let p=0;p<m.length;p++){const E=m[p];switch(E.mode){case t.NUMERIC:C.push([E,{data:E.data,mode:t.ALPHANUMERIC,length:E.length},{data:E.data,mode:t.BYTE,length:E.length}]);break;case t.ALPHANUMERIC:C.push([E,{data:E.data,mode:t.BYTE,length:E.length}]);break;case t.KANJI:C.push([E,{data:E.data,mode:t.BYTE,length:l(E.data)}]);break;case t.BYTE:C.push([{data:E.data,mode:t.BYTE,length:l(E.data)}])}}return C}function v(m,C){const p={},E={start:{}};let B=["start"];for(let S=0;S<m.length;S++){const T=m[S],M=[];for(let R=0;R<T.length;R++){const A=T[R],U=""+S+R;M.push(U),p[U]={node:A,lastCount:0},E[U]={};for(let H=0;H<B.length;H++){const N=B[H];p[N]&&p[N].node.mode===A.mode?(E[N][U]=y(p[N].lastCount+A.length,A.mode)-y(p[N].lastCount,A.mode),p[N].lastCount+=A.length):(p[N]&&(p[N].lastCount=A.length),E[N][U]=y(A.length,A.mode)+4+t.getCharCountIndicator(A.mode,C))}}B=M}for(let S=0;S<B.length;S++)E[B[S]].end=0;return{map:E,table:p}}function L(m,C){let p;const E=t.getBestModeForData(m);if(p=t.from(C,E),p!==t.BYTE&&p.bit<E.bit)throw new Error('"'+m+'" cannot be encoded with mode '+t.toString(p)+`.
 Suggested mode is: `+t.toString(E));switch(p===t.KANJI&&!c.isKanjiModeEnabled()&&(p=t.BYTE),p){case t.NUMERIC:return new i(m);case t.ALPHANUMERIC:return new r(m);case t.KANJI:return new o(m);case t.BYTE:return new e(m)}}n.fromArray=function(C){return C.reduce(function(p,E){return typeof E=="string"?p.push(L(E,null)):E.data&&p.push(L(E.data,E.mode)),p},[])},n.fromString=function(C,p){const E=I(C,c.isKanjiModeEnabled()),B=w(E),S=v(B,p),T=a.find_path(S.map,"start","end"),M=[];for(let R=1;R<T.length-1;R++)M.push(S.table[T[R]].node);return n.fromArray(g(M))},n.rawSplit=function(C){return n.fromArray(I(C,c.isKanjiModeEnabled()))}})(de);const yt=P,bt=gt,en=Ue,nn=Fe,on=ee,rn=ne,Rt=oe,Nt=ht,sn=ze,ft=se,an=ce,cn=q,St=de;function ln(n,t){const i=n.size,r=rn.getPositions(t);for(let e=0;e<r.length;e++){const o=r[e][0],s=r[e][1];for(let c=-1;c<=7;c++)if(!(o+c<=-1||i<=o+c))for(let a=-1;a<=7;a++)s+a<=-1||i<=s+a||(c>=0&&c<=6&&(a===0||a===6)||a>=0&&a<=6&&(c===0||c===6)||c>=2&&c<=4&&a>=2&&a<=4?n.set(o+c,s+a,!0,!0):n.set(o+c,s+a,!1,!0))}}function dn(n){const t=n.size;for(let i=8;i<t-8;i++){const r=i%2===0;n.set(i,6,r,!0),n.set(6,i,r,!0)}}function un(n,t){const i=on.getPositions(t);for(let r=0;r<i.length;r++){const e=i[r][0],o=i[r][1];for(let s=-2;s<=2;s++)for(let c=-2;c<=2;c++)s===-2||s===2||c===-2||c===2||s===0&&c===0?n.set(e+s,o+c,!0,!0):n.set(e+s,o+c,!1,!0)}}function fn(n,t){const i=n.size,r=ft.getEncodedBits(t);let e,o,s;for(let c=0;c<18;c++)e=Math.floor(c/3),o=c%3+i-8-3,s=(r>>c&1)===1,n.set(e,o,s,!0),n.set(o,e,s,!0)}function Tt(n,t,i){const r=n.size,e=an.getEncodedBits(t,i);let o,s;for(o=0;o<15;o++)s=(e>>o&1)===1,o<6?n.set(o,8,s,!0):o<8?n.set(o+1,8,s,!0):n.set(r-15+o,8,s,!0),o<8?n.set(8,r-o-1,s,!0):o<9?n.set(8,15-o-1+1,s,!0):n.set(8,15-o-1,s,!0);n.set(r-8,8,1,!0)}function gn(n,t){const i=n.size;let r=-1,e=i-1,o=7,s=0;for(let c=i-1;c>0;c-=2)for(c===6&&c--;;){for(let a=0;a<2;a++)if(!n.isReserved(e,c-a)){let l=!1;s<t.length&&(l=(t[s]>>>o&1)===1),n.set(e,c-a,l),o--,o===-1&&(s++,o=7)}if(e+=r,e<0||i<=e){e-=r,r=-r;break}}}function hn(n,t,i){const r=new en;i.forEach(function(a){r.put(a.mode.bit,4),r.put(a.getLength(),cn.getCharCountIndicator(a.mode,n)),a.write(r)});const e=yt.getSymbolTotalCodewords(n),o=Nt.getTotalCodewordsCount(n,t),s=(e-o)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const c=(s-r.getLengthInBits())/8;for(let a=0;a<c;a++)r.put(a%2?17:236,8);return mn(r,n,t)}function mn(n,t,i){const r=yt.getSymbolTotalCodewords(t),e=Nt.getTotalCodewordsCount(t,i),o=r-e,s=Nt.getBlocksCount(t,i),c=r%s,a=s-c,l=Math.floor(r/s),d=Math.floor(o/s),I=d+1,y=l-d,g=new sn(y);let w=0;const v=new Array(s),L=new Array(s);let m=0;const C=new Uint8Array(n.buffer);for(let T=0;T<s;T++){const M=T<a?d:I;v[T]=C.slice(w,w+M),L[T]=g.encode(v[T]),w+=M,m=Math.max(m,M)}const p=new Uint8Array(r);let E=0,B,S;for(B=0;B<m;B++)for(S=0;S<s;S++)B<v[S].length&&(p[E++]=v[S][B]);for(B=0;B<y;B++)for(S=0;S<s;S++)p[E++]=L[S][B];return p}function yn(n,t,i,r){let e;if(Array.isArray(n))e=St.fromArray(n);else if(typeof n=="string"){let l=t;if(!l){const d=St.rawSplit(n);l=ft.getBestVersionForData(d,i)}e=St.fromString(n,l||40)}else throw new Error("Invalid data");const o=ft.getBestVersionForData(e,i);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=o;else if(t<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const s=hn(t,i,e),c=yt.getSymbolSize(t),a=new nn(c);return ln(a,t),dn(a),un(a,t),Tt(a,i,0),t>=7&&fn(a,t),gn(a,s),isNaN(r)&&(r=Rt.getBestMask(a,Tt.bind(null,a,i))),Rt.applyMask(r,a),Tt(a,i,r),{modules:a,version:t,errorCorrectionLevel:i,maskPattern:r,segments:e}}$t.create=function(t,i){if(typeof t>"u"||t==="")throw new Error("No input text");let r=bt.M,e,o;return typeof i<"u"&&(r=bt.from(i.errorCorrectionLevel,bt.M),e=ft.from(i.version),o=Rt.from(i.maskPattern),i.toSJISFunc&&yt.setToSJISFunction(i.toSJISFunc)),yn(t,e,r,o)};var fe={},Ft={};(function(n){function t(i){if(typeof i=="number"&&(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");let r=i.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+i);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const e=parseInt(r.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const e=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,s=r.scale||4;return{width:o,scale:o?4:s,margin:e,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,e){return e.width&&e.width>=r+e.margin*2?e.width/(r+e.margin*2):e.scale},n.getImageWidth=function(r,e){const o=n.getScale(r,e);return Math.floor((r+e.margin*2)*o)},n.qrToImageData=function(r,e,o){const s=e.modules.size,c=e.modules.data,a=n.getScale(s,o),l=Math.floor((s+o.margin*2)*a),d=o.margin*a,I=[o.color.light,o.color.dark];for(let y=0;y<l;y++)for(let g=0;g<l;g++){let w=(y*l+g)*4,v=o.color.light;if(y>=d&&g>=d&&y<l-d&&g<l-d){const L=Math.floor((y-d)/a),m=Math.floor((g-d)/a);v=I[c[L*s+m]?1:0]}r[w++]=v.r,r[w++]=v.g,r[w++]=v.b,r[w]=v.a}}})(Ft);(function(n){const t=Ft;function i(e,o,s){e.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=s,o.width=s,o.style.height=s+"px",o.style.width=s+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(o,s,c){let a=c,l=s;typeof a>"u"&&(!s||!s.getContext)&&(a=s,s=void 0),s||(l=r()),a=t.getOptions(a);const d=t.getImageWidth(o.modules.size,a),I=l.getContext("2d"),y=I.createImageData(d,d);return t.qrToImageData(y.data,o,a),i(I,l,d),I.putImageData(y,0,0),l},n.renderToDataURL=function(o,s,c){let a=c;typeof a>"u"&&(!s||!s.getContext)&&(a=s,s=void 0),a||(a={});const l=n.render(o,s,a),d=a.type||"image/png",I=a.rendererOpts||{};return l.toDataURL(d,I.quality)}})(fe);var ge={};const pn=Ft;function Zt(n,t){const i=n.a/255,r=t+'="'+n.hex+'"';return i<1?r+" "+t+'-opacity="'+i.toFixed(2).slice(1)+'"':r}function Mt(n,t,i){let r=n+t;return typeof i<"u"&&(r+=" "+i),r}function En(n,t,i){let r="",e=0,o=!1,s=0;for(let c=0;c<n.length;c++){const a=Math.floor(c%t),l=Math.floor(c/t);!a&&!o&&(o=!0),n[c]?(s++,c>0&&a>0&&n[c-1]||(r+=o?Mt("M",a+i,.5+l+i):Mt("m",e,0),e=0,o=!1),a+1<t&&n[c+1]||(r+=Mt("h",s),s=0)):e++}return r}ge.render=function(t,i,r){const e=pn.getOptions(i),o=t.modules.size,s=t.modules.data,c=o+e.margin*2,a=e.color.light.a?"<path "+Zt(e.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",l="<path "+Zt(e.color.dark,"stroke")+' d="'+En(s,o,e.margin)+'"/>',d='viewBox="0 0 '+c+" "+c+'"',y='<svg xmlns="http://www.w3.org/2000/svg" '+(e.width?'width="'+e.width+'" height="'+e.width+'" ':"")+d+' shape-rendering="crispEdges">'+a+l+`</svg>
`;return typeof r=="function"&&r(null,y),y};const wn=ke,Pt=$t,he=fe,Cn=ge;function _t(n,t,i,r,e){const o=[].slice.call(arguments,1),s=o.length,c=typeof o[s-1]=="function";if(!c&&!wn())throw new Error("Callback required as last argument");if(c){if(s<2)throw new Error("Too few arguments provided");s===2?(e=i,i=t,t=r=void 0):s===3&&(t.getContext&&typeof e>"u"?(e=r,r=void 0):(e=r,r=i,i=t,t=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(i=t,t=r=void 0):s===2&&!t.getContext&&(r=i,i=t,t=void 0),new Promise(function(a,l){try{const d=Pt.create(i,r);a(n(d,t,r))}catch(d){l(d)}})}try{const a=Pt.create(i,r);e(null,n(a,t,r))}catch(a){e(a)}}K.create=Pt.create;K.toCanvas=_t.bind(null,he.render);K.toDataURL=_t.bind(null,he.renderToDataURL);K.toString=_t.bind(null,function(n,t,i){return Cn.render(n,i)});var tt=(n=>(n.LOW="L",n.MEDIUM="M",n.QUARTILE="Q",n.HIGH="H",n))(tt||{});class O{static async generateQRCode(t,i={}){if(!t||t.trim()==="")throw new Error("Text cannot be empty");const r={...this.defaultOptions,...i},e=r.size||200,o=document.createElement("canvas");o.width=e,o.height=e;try{return await this.renderToCanvas(t,o,r),{dataURL:o.toDataURL("image/png"),options:r}}catch(s){throw new Error(`Failed to generate QR code: ${s instanceof Error?s.message:"Unknown error"}`)}}static async exportAsPNG(t,i={},r={}){const e=await this.generateQRCode(t,{...i});return this.downloadFile(e.dataURL,r.fileName||"qrcode.png")}static async exportAsSVG(t,i={},r={}){if(!t||t.trim()==="")throw new Error("Text cannot be empty");const e={...this.defaultOptions,...i},o={type:"svg",width:e.size||200,errorCorrectionLevel:e.errorCorrectionLevel||tt.MEDIUM,color:e.color||{dark:"#000000",light:"#ffffff"},margin:e.margin||4,scale:e.scale||4};try{const s=await K.toString(t,o);return r.fileName&&this.downloadFile(`data:image/svg+xml;charset=utf-8,${encodeURIComponent(s)}`,r.fileName||"qrcode.svg"),s}catch(s){throw new Error(`Failed to generate SVG QR code: ${s instanceof Error?s.message:"Unknown error"}`)}}static async getQRCodeDataURL(t,i={}){return(await this.generateQRCode(t,i)).dataURL}static downloadFile(t,i){const r=document.createElement("a");return r.href=t,r.download=i,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),t}static async renderToCanvas(t,i,r={}){if(!t||t.trim()==="")throw new Error("Text cannot be empty");if(!(i instanceof HTMLCanvasElement))throw new Error("Invalid canvas element");const e={...this.defaultOptions,...r},o={width:e.size||200,errorCorrectionLevel:e.errorCorrectionLevel||tt.MEDIUM,color:e.color||{dark:"#000000",light:"#ffffff"},margin:e.margin||4,scale:e.scale||4};try{if(await K.toCanvas(i,t,o),this.applyStyleCustomization(i,e),e.logo&&e.logo.src)try{await this.addLogoToCanvas(i,e.logo)}catch(s){console.warn("Failed to add logo to QR code:",s)}}catch(s){throw new Error(`Failed to render QR code to canvas: ${s instanceof Error?s.message:"Unknown error"}`)}}static applyStyleCustomization(t,i){const r=t.getContext("2d");if(!r)return;const e=t.width,o=t.height,s=document.createElement("canvas");s.width=e,s.height=o;const c=s.getContext("2d");c&&(c.drawImage(t,0,0),r.clearRect(0,0,e,o),this.drawBackground(r,e,o,i),i.shape==="rounded"||i.shape==="circle"||i.cornerRadius?this.drawCustomShape(r,s,e,o,i):r.drawImage(s,0,0))}static drawBackground(t,i,r,e){var o,s,c;if((o=e.color)!=null&&o.gradient){const a=e.color.gradient.type==="radial"?t.createRadialGradient(i/2,r/2,0,i/2,r/2,i/2):t.createLinearGradient(0,0,i,r);(s=e.color.gradient.colors)==null||s.forEach((l,d)=>{var I,y,g;a.addColorStop(d/(((g=(y=(I=e.color)==null?void 0:I.gradient)==null?void 0:y.colors)==null?void 0:g.length)||0),l)}),t.fillStyle=a}else t.fillStyle=((c=e.color)==null?void 0:c.light)||"#ffffff";t.fillRect(0,0,i,r)}static drawCustomShape(t,i,r,e,o){var d,I,y;const s=i.getContext("2d");if(!s)return;const a=s.getImageData(0,0,r,e).data,l=Math.ceil(r/40);if((d=o.color)!=null&&d.gradient){const g=o.color.gradient.type==="radial"?t.createRadialGradient(r/2,e/2,0,r/2,e/2,r/2):t.createLinearGradient(0,0,r,e);(I=o.color.gradient.colors)==null||I.forEach((w,v)=>{var L,m,C;g.addColorStop(v/(((C=(m=(L=o.color)==null?void 0:L.gradient)==null?void 0:m.colors)==null?void 0:C.length)||0),w)}),t.fillStyle=g}else t.fillStyle=((y=o.color)==null?void 0:y.dark)||"#000000";for(let g=0;g<e;g+=l)for(let w=0;w<r;w+=l)if(this.isModuleDark(a,w,g,r,l)){const L=o.cornerRadius||(o.shape==="circle"?l/2:l/4);switch(o.shape){case"circle":t.beginPath(),t.arc(w+l/2,g+l/2,l/2,0,Math.PI*2),t.fill();break;case"rounded":default:t.beginPath(),t.roundRect(w,g,l,l,L),t.fill();break}}}static isModuleDark(t,i,r,e,o){const s=Math.min(i+Math.floor(o/2),e-1),a=(Math.min(r+Math.floor(o/2),e-1)*e+s)*4,l=t[a],d=t[a+1],I=t[a+2];return l<128&&d<128&&I<128}static async addLogoToCanvas(t,i){return new Promise((r,e)=>{const o=t.getContext("2d");if(!o){e(new Error("Failed to get canvas context"));return}const s=new Image;s.crossOrigin="anonymous",s.onload=()=>{try{const c=t.width,a=i.size||c*.2,l=(c-a)/2,d=(c-a)/2;o.fillStyle="#ffffff",o.fillRect(l-5,d-5,a+10,a+10),o.drawImage(s,l,d,a,a),r()}catch(c){e(c)}},s.onerror=()=>{e(new Error("Failed to load logo image"))},s.src=i.src})}}xt(O,"defaultOptions",{size:200,errorCorrectionLevel:tt.MEDIUM,color:{dark:"#000000",light:"#ffffff"},margin:4,scale:4});function vn(){const n=document.getElementById("text-input"),t=document.getElementById("generate-btn"),i=document.getElementById("clear-btn"),r=document.getElementById("qrcode-png"),e=document.getElementById("qrcode-svg"),o=document.getElementById("qrcode-canvas"),s=document.getElementById("export-btn"),c=document.getElementById("export-format"),a=document.querySelectorAll(".data-type-tab"),l=document.getElementById("text-input-section"),d=document.getElementById("contact-input-section"),I=document.getElementById("wifi-input-section"),y=document.getElementById("email-input-section"),g=document.getElementById("sms-input-section"),w=document.getElementById("phone-input-section"),v=document.getElementById("location-input-section"),L=document.getElementById("contact-name"),m=document.getElementById("contact-phone"),C=document.getElementById("contact-email"),p=document.getElementById("contact-company"),E=document.getElementById("wifi-ssid"),B=document.getElementById("wifi-password"),S=document.getElementById("wifi-type"),T=document.getElementById("email-address"),M=document.getElementById("email-subject"),R=document.getElementById("email-body"),A=document.getElementById("sms-phone"),U=document.getElementById("sms-message"),H=document.getElementById("phone-number"),N=document.getElementById("location-latitude"),pt=document.getElementById("location-longitude"),W=document.getElementById("size-slider"),zt=document.getElementById("size-value"),ot=document.getElementById("margin-slider"),Ht=document.getElementById("margin-value"),Et=document.getElementById("dark-color"),wt=document.getElementById("light-color"),Ct=document.getElementById("error-correction"),vt=document.getElementById("shape-select"),rt=document.getElementById("corner-radius-slider"),Ot=document.getElementById("corner-radius-value"),X=document.getElementById("gradient-type"),it=document.getElementById("gradient-colors"),G=document.getElementById("gradient-color-list"),me=document.getElementById("add-gradient-color"),ye=document.getElementById("remove-gradient-color"),Vt=document.getElementById("logo-upload"),J=document.getElementById("logo-preview"),It=document.getElementById("remove-logo"),pe=document.getElementById("clear-history-btn"),qt=document.getElementById("history-list"),Gt=document.querySelectorAll(".tab-btn");let Jt="png",st="text",F={size:200,margin:4,color:{dark:"#000000",light:"#ffffff"},errorCorrectionLevel:tt.MEDIUM};function Ee(){t.disabled=!0,t.innerHTML=`
      <div class="spinner" style="width: 16px; height: 16px; border-width: 2px;"></div>
      生成中...
    `}function we(h,f,u,b){const k={id:Date.now().toString()+Math.random().toString(36).substr(2,9),data:h,dataType:f,dataURL:u,config:b,timestamp:Date.now()},D=at();D.unshift(k),D.length>50&&D.pop(),localStorage.setItem("qrcode-history",JSON.stringify(D)),ct()}function at(){const h=localStorage.getItem("qrcode-history");return h?JSON.parse(h):[]}function ct(){const h=at();if(h.length===0){qt.innerHTML='<p style="text-align: center; color: var(--text-secondary); grid-column: 1 / -1;">暂无历史记录</p>';return}qt.innerHTML=h.map(f=>`
      <div class="history-item">
        <img src="${f.dataURL}" alt="二维码历史记录">
        <div class="history-item-info">${f.data.substring(0,20)}${f.data.length>20?"...":""}</div>
        <div class="history-item-date">${new Date(f.timestamp).toLocaleString()}</div>
        <div class="history-item-actions">
          <button class="btn-view" onclick="viewHistoryItem('${f.id}')">查看</button>
          <button class="btn-delete" onclick="deleteHistoryItem('${f.id}')">删除</button>
        </div>
      </div>
    `).join("")}function Ce(){confirm("确定要清除所有历史记录吗？")&&(localStorage.removeItem("qrcode-history"),ct())}function ve(h){const u=at().filter(b=>b.id!==h);localStorage.setItem("qrcode-history",JSON.stringify(u)),ct()}function Ie(h){var b,k;const u=at().find(D=>D.id===h);if(u){switch(F=u.config,st=u.dataType,W.value=u.config.size.toString(),zt.textContent=u.config.size.toString(),ot.value=u.config.margin.toString(),Ht.textContent=u.config.margin.toString(),Et.value=u.config.color.dark,wt.value=u.config.color.light,Ct.value=u.config.errorCorrectionLevel,vt.value=u.config.shape||"square",rt.value=((b=u.config.cornerRadius)==null?void 0:b.toString())||"4",Ot.textContent=((k=u.config.cornerRadius)==null?void 0:k.toString())||"4",u.config.color.gradient?(X.value=u.config.color.gradient.type,it.style.display="block",document.querySelectorAll(".gradient-color-input").forEach((Bt,Z)=>{u.config.color.gradient.colors[Z]&&(Bt.value=u.config.color.gradient.colors[Z])})):(X.value="none",it.style.display="none"),Qt(u.dataType),u.dataType){case"text":n.value=u.data;break}z()}}window.viewHistoryItem=Ie,window.deleteHistoryItem=ve;function Be(){t.disabled=!1,t.innerHTML=`
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
        <circle cx="8.5" cy="8.5" r="1.5"></circle>
        <path d="M21 15l-5-5L5 21"></path>
      </svg>
      生成二维码
    `}function Kt(){switch(r.style.display="none",e.style.display="none",o.style.display="none",Jt){case"png":r.style.display="block";break;case"svg":e.style.display="block";break;case"canvas":o.style.display="block";break}}function jt(){switch(st){case"text":return n.value.trim();case"contact":let h=`BEGIN:VCARD
VERSION:3.0
`;return L.value.trim()&&(h+=`FN:${L.value.trim()}
`),m.value.trim()&&(h+=`TEL:${m.value.trim()}
`),C.value.trim()&&(h+=`EMAIL:${C.value.trim()}
`),p.value.trim()&&(h+=`ORG:${p.value.trim()}
`),h+="END:VCARD",h;case"wifi":let f=`WIFI:T:${S.value};S:${E.value.trim()};`;return B.value.trim()&&(f+=`P:${B.value.trim()};`),f+=";",f;case"email":let u=`mailto:${T.value.trim()}`,b=[];return M.value.trim()&&b.push(`subject=${encodeURIComponent(M.value.trim())}`),R.value.trim()&&b.push(`body=${encodeURIComponent(R.value.trim())}`),b.length>0&&(u+=`?${b.join("&")}`),u;case"sms":let k=`sms:${A.value.trim()}`;return U.value.trim()&&(k+=`?body=${encodeURIComponent(U.value.trim())}`),k;case"phone":return`tel:${H.value.trim()}`;case"location":return`geo:${N.value.trim()},${pt.value.trim()}`;default:return n.value.trim()}}async function z(){const h=jt();if(!h){alert("请输入数据");return}Ee();try{const f=document.querySelectorAll(".gradient-color-input"),u=Array.from(f).map(D=>D.value);F={size:parseInt(W.value),margin:parseInt(ot.value),color:{dark:Et.value,light:wt.value,gradient:X.value!=="none"?{type:X.value,colors:u}:void 0},errorCorrectionLevel:Ct.value,logo:J.src?{src:J.src,size:parseInt(W.value)*.2}:void 0,shape:vt.value,cornerRadius:parseInt(rt.value)};const b=await O.generateQRCode(h,F);r.src=b.dataURL;const k=await O.exportAsSVG(h,F);e.innerHTML=k,await O.renderToCanvas(h,o,F),Kt(),we(h,st,b.dataURL,F)}catch(f){console.error("生成二维码失败:",f),alert("生成二维码失败: "+(f instanceof Error?f.message:"未知错误"))}finally{Be()}}async function Le(){const h=jt();if(!h){alert("请输入数据");return}try{switch(c.value){case"png":await O.exportAsPNG(h,F,{fileName:"qrcode.png"});break;case"jpg":await O.renderToCanvas(h,o,F);const u=o.toDataURL("image/jpeg",.9);be(u,"qrcode.jpg");break;case"svg":await O.exportAsSVG(h,F,{fileName:"qrcode.svg"});break;default:await O.exportAsPNG(h,F,{fileName:"qrcode.png"})}}catch(f){console.error("导出二维码失败:",f),alert("导出二维码失败: "+(f instanceof Error?f.message:"未知错误"))}}function be(h,f){const u=document.createElement("a");u.href=h,u.download=f,u.style.display="none",document.body.appendChild(u),u.click(),document.body.removeChild(u)}function Se(){var h;n.value="",L.value="",m.value="",C.value="",p.value="",E.value="",B.value="",S.value="WPA",T.value="",M.value="",R.value="",A.value="",U.value="",H.value="",N.value="",pt.value="",r.src="",e.innerHTML="",(h=o.getContext("2d"))==null||h.clearRect(0,0,o.width,o.height),Yt()}function Qt(h){st=h,a.forEach(f=>{f.classList.remove("active"),f.dataset.type===h&&f.classList.add("active")}),l.style.display=h==="text"?"block":"none",d.style.display=h==="contact"?"block":"none",I.style.display=h==="wifi"?"block":"none",y.style.display=h==="email"?"block":"none",g.style.display=h==="sms"?"block":"none",w.style.display=h==="phone"?"block":"none",v.style.display=h==="location"?"block":"none",z()}function Te(h){var b;const u=(b=h.target.files)==null?void 0:b[0];if(u){const k=new FileReader;k.onload=D=>{var Z;const Bt=(Z=D.target)==null?void 0:Z.result;J.src=Bt,J.style.display="block",It.style.display="inline-block"},k.readAsDataURL(u)}}function Yt(){J.src="",J.style.display="none",It.style.display="none",Vt.value=""}function Me(h){Jt=h,Gt.forEach(f=>{f.classList.remove("active"),f.dataset.tab===h&&f.classList.add("active")}),Kt()}function Ae(){t.addEventListener("click",z),i.addEventListener("click",Se),s.addEventListener("click",Le),Gt.forEach(u=>{u.addEventListener("click",()=>{Me(u.dataset.tab||"png")})}),W.addEventListener("input",u=>{const b=u.target.value;zt.textContent=b}),ot.addEventListener("input",u=>{const b=u.target.value;Ht.textContent=b}),a.forEach(u=>{u.addEventListener("click",()=>{Qt(u.dataset.type||"text")})}),Vt.addEventListener("change",Te),It.addEventListener("click",Yt);let h;function f(){clearTimeout(h),h=setTimeout(z,500)}n.addEventListener("input",f),L.addEventListener("input",f),m.addEventListener("input",f),C.addEventListener("input",f),p.addEventListener("input",f),E.addEventListener("input",f),B.addEventListener("input",f),S.addEventListener("change",f),T.addEventListener("input",f),M.addEventListener("input",f),R.addEventListener("input",f),A.addEventListener("input",f),U.addEventListener("input",f),H.addEventListener("input",f),N.addEventListener("input",f),pt.addEventListener("input",f),W.addEventListener("change",f),ot.addEventListener("change",f),Et.addEventListener("change",f),wt.addEventListener("change",f),Ct.addEventListener("change",f),vt.addEventListener("change",f),rt.addEventListener("input",u=>{const b=u.target.value;Ot.textContent=b}),rt.addEventListener("change",f),X.addEventListener("change",u=>{u.target.value==="none"?it.style.display="none":it.style.display="block",f()}),G.addEventListener("input",u=>{u.target.classList.contains("gradient-color-input")&&f()}),me.addEventListener("click",()=>{const u=G.children.length,b=document.createElement("div");b.className="color-picker",b.innerHTML=`
        <span>颜色 ${u+1}:</span>
        <input 
          type="color" 
          class="gradient-color-input" 
          value="#${Math.floor(Math.random()*16777215).toString(16)}"
        >
      `,G.appendChild(b),f()}),ye.addEventListener("click",()=>{G.children.length>2&&(G.removeChild(G.lastElementChild),f())}),n.addEventListener("keypress",u=>{u.key==="Enter"&&z()}),T.addEventListener("keypress",u=>{u.key==="Enter"&&z()}),A.addEventListener("keypress",u=>{u.key==="Enter"&&z()}),H.addEventListener("keypress",u=>{u.key==="Enter"&&z()}),pe.addEventListener("click",Ce)}function Re(){Ae(),ct(),z()}Re()}document.addEventListener("DOMContentLoaded",vn);
//# sourceMappingURL=main-8EbTNEan.js.map
